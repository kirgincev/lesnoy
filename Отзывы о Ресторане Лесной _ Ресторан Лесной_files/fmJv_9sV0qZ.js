if (self.CavalryLogger) { CavalryLogger.start_js(["9YWzw"]); }

__d("EmojiStaticConfig",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={checksumBase:317426846,fileExt:".png",supportedSizes:{"16":"XSMALL","32":"SMALL","64":"MEDIUM","128":"LARGE"},types:{MESSENGER:"z",UNICODE:"u"},sizeMap:{xsmall:16,small:32,medium:64,large:128}};},null);
__d("InstanceProxy",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){"use strict";this.$InstanceProxy1=i;}h.prototype.getInstance=function(){"use strict";return this.$InstanceProxy1;};h.prototype.setInstance=function(i){"use strict";this.$InstanceProxy1=i;};f.exports=h;},null);
__d('BlueBar',['csx','DOMQuery','Style','ge'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=document,j={};function k(o){return c('DOMQuery').scry(i,o)[0];}function l(o,p){if(j[o])return j[o];return j[o]=k(p);}function m(){i=c('ge')('blueBarDOMInspector')||document;j={};}var n={hasFixedBlueBar:function(){var o=this.getMaybeFixedRoot();return o&&c('Style').isFixed(o);},getBar:function(){return l('bar',"div._1s4v");},getNavRoot:function(){return l('navRoot',"div._cx4")||n.getBar();},getMaybeFixedRoot:function(){return l('maybeFixedRoot',"div._26aw");}};m();f.exports=n;},null);
__d('BasicVector',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){'use strict';this.x=i;this.y=j;}h.prototype.derive=function(i,j){'use strict';return new h(i,j);};h.prototype.toString=function(){'use strict';return '('+this.x+', '+this.y+')';};h.prototype.add=function(i,j){'use strict';if(i instanceof h){j=i.y;i=i.x;}var k=parseFloat(i),l=parseFloat(j);return this.derive(this.x+k,this.y+l);};h.prototype.mul=function(i,j){'use strict';if(j===undefined)j=i;return this.derive(this.x*i,this.y*j);};h.prototype.div=function(i,j){'use strict';if(j===undefined)j=i;return this.derive(this.x*1/i,this.y*1/j);};h.prototype.sub=function(i,j){'use strict';if(arguments.length===1){return this.add(i.mul(-1));}else return this.add(-i,-j);};h.prototype.distanceTo=function(i){'use strict';return this.sub(i).magnitude();};h.prototype.magnitude=function(){'use strict';return Math.sqrt(this.x*this.x+this.y*this.y);};h.prototype.rotate=function(i){'use strict';return this.derive(this.x*Math.cos(i)-this.y*Math.sin(i),this.x*Math.sin(i)+this.y*Math.cos(i));};f.exports=h;},null);
__d("Keys",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105};},null);
__d('_shouldPolyfillES6Collection',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){var j=b[i];if(j==null)return true;if(typeof b.Symbol!=='function')return true;var k=j.prototype;return j==null||typeof j!=='function'||typeof k.clear!=='function'||new j().size!==0||typeof k.keys!=='function'||typeof k.forEach!=='function';}f.exports=h;},null);
__d('enumerate',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h='keys',i='values',j='entries',k=function(){var q=m(Array),r=void 0;if(!q)r=function(){function s(t,u){'use strict';this.$ArrayIterator1=t;this.$ArrayIterator2=u;this.$ArrayIterator3=0;}s.prototype.next=function(){'use strict';if(this.$ArrayIterator1==null)return {value:undefined,done:true};var t=this.$ArrayIterator1,u=this.$ArrayIterator1.length,v=this.$ArrayIterator3,w=this.$ArrayIterator2;if(v>=u){this.$ArrayIterator1=undefined;return {value:undefined,done:true};}this.$ArrayIterator3=v+1;if(w===h){return {value:v,done:false};}else if(w===i){return {value:t[v],done:false};}else if(w===j)return {value:[v,t[v]],done:false};};s.prototype[typeof Symbol==='function'?Symbol.iterator:'@@iterator']=function(){'use strict';return this;};return s;}();return {keys:q?function(s){return s.keys();}:function(s){return new r(s,h);},values:q?function(s){return s.values();}:function(s){return new r(s,i);},entries:q?function(s){return s.entries();}:function(s){return new r(s,j);}};}(),l=function(){var q=m(String),r=void 0;if(!q)r=function(){function s(t){'use strict';this.$StringIterator1=t;this.$StringIterator2=0;}s.prototype.next=function(){'use strict';if(this.$StringIterator1==null)return {value:undefined,done:true};var t=this.$StringIterator2,u=this.$StringIterator1,v=u.length;if(t>=v){this.$StringIterator1=undefined;return {value:undefined,done:true};}var w=void 0,x=u.charCodeAt(t);if(x<55296||x>56319||t+1===v){w=u[t];}else{var y=u.charCodeAt(t+1);if(y<56320||y>57343){w=u[t];}else w=u[t]+u[t+1];}this.$StringIterator2=t+w.length;return {value:w,done:false};};s.prototype[typeof Symbol==='function'?Symbol.iterator:'@@iterator']=function(){'use strict';return this;};return s;}();return {keys:function(){throw TypeError('Strings default iterator doesn\'t implement keys.');},values:q?function(s){return s[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();}:function(s){return new r(s);},entries:function(){throw TypeError('Strings default iterator doesn\'t implement entries.');}};}();function m(q){return typeof q.prototype[typeof Symbol==='function'?Symbol.iterator:'@@iterator']==='function'&&typeof q.prototype.values==='function'&&typeof q.prototype.keys==='function'&&typeof q.prototype.entries==='function';}function n(q,r){'use strict';this.$ObjectIterator1=q;this.$ObjectIterator2=r;this.$ObjectIterator3=Object.keys(q);this.$ObjectIterator4=0;}n.prototype.next=function(){'use strict';var q=this.$ObjectIterator3.length,r=this.$ObjectIterator4,s=this.$ObjectIterator2,t=this.$ObjectIterator3[r];if(r>=q){this.$ObjectIterator1=undefined;return {value:undefined,done:true};}this.$ObjectIterator4=r+1;if(s===h){return {value:t,done:false};}else if(s===i){return {value:this.$ObjectIterator1[t],done:false};}else if(s===j)return {value:[t,this.$ObjectIterator1[t]],done:false};};n.prototype[typeof Symbol==='function'?Symbol.iterator:'@@iterator']=function(){'use strict';return this;};var o={keys:function(q){return new n(q,h);},values:function(q){return new n(q,i);},entries:function(q){return new n(q,j);}};function p(q,r){if(typeof q==='string'){return l[r||i](q);}else if(Array.isArray(q)){return k[r||i](q);}else if(q[typeof Symbol==='function'?Symbol.iterator:'@@iterator']){return q[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();}else return o[r||j](q);}Object.assign(p,{KIND_KEYS:h,KIND_VALUES:i,KIND_ENTRIES:j,keys:function(q){return p(q,h);},values:function(q){return p(q,i);},entries:function(q){return p(q,j);},generic:o.entries});f.exports=p;},null);
__d('Map',['guid','isNode','enumerate','_shouldPolyfillES6Collection'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=function(h,i){if(!c('_shouldPolyfillES6Collection')('Map'))return h.Map;var j='key',k='value',l='key+value',m='$map_',n=void 0,o='IE_HASH_';function p(ca){'use strict';if(!u(this))throw new TypeError('Wrong map object type.');t(this);if(ca!=null){var da=c('enumerate')(ca),ea=void 0;while(!(ea=da.next()).done){if(!u(ea.value))throw new TypeError('Expected iterable items to be pair objects.');this.set(ea.value[0],ea.value[1]);}}}p.prototype.clear=function(){'use strict';t(this);};p.prototype.has=function(ca){'use strict';var da=r(this,ca);return !!(da!=null&&this._mapData[da]);};p.prototype.set=function(ca,da){'use strict';var ea=r(this,ca);if(ea!=null&&this._mapData[ea]){this._mapData[ea][1]=da;}else{ea=this._mapData.push([ca,da])-1;s(this,ca,ea);this.size+=1;}return this;};p.prototype.get=function(ca){'use strict';var da=r(this,ca);if(da==null){return i;}else return this._mapData[da][1];};p.prototype['delete']=function(ca){'use strict';var da=r(this,ca);if(da!=null&&this._mapData[da]){s(this,ca,i);this._mapData[da]=i;this.size-=1;return true;}else return false;};p.prototype.entries=function(){'use strict';return new q(this,l);};p.prototype.keys=function(){'use strict';return new q(this,j);};p.prototype.values=function(){'use strict';return new q(this,k);};p.prototype.forEach=function(ca,da){'use strict';if(typeof ca!=='function')throw new TypeError('Callback must be callable.');var ea=ca.bind(da||i),fa=this._mapData;for(var ga=0;ga<fa.length;ga++){var ha=fa[ga];if(ha!=null)ea(ha[1],ha[0],this);}};p.prototype[typeof Symbol==='function'?Symbol.iterator:'@@iterator']=function(){'use strict';return this.entries();};function q(ca,da){'use strict';if(!(u(ca)&&ca._mapData))throw new TypeError('Object is not a map.');if([j,l,k].indexOf(da)===-1)throw new Error('Invalid iteration kind.');this._map=ca;this._nextIndex=0;this._kind=da;}q.prototype.next=function(){'use strict';if(!this instanceof p)throw new TypeError('Expected to be called on a MapIterator.');var ca=this._map,da=this._nextIndex,ea=this._kind;if(ca==null)return v(i,true);var fa=ca._mapData;while(da<fa.length){var ga=fa[da];da+=1;this._nextIndex=da;if(ga)if(ea===j){return v(ga[0],false);}else if(ea===k){return v(ga[1],false);}else if(ea)return v(ga,false);}this._map=i;return v(i,true);};q.prototype[typeof Symbol==='function'?Symbol.iterator:'@@iterator']=function(){'use strict';return this;};function r(ca,da){if(u(da)){var ea=aa(da);return ea?ca._objectIndex[ea]:i;}else{var fa=m+da;if(typeof da==='string'){return ca._stringIndex[fa];}else return ca._otherIndex[fa];}}function s(ca,da,ea){var fa=ea==null;if(u(da)){var ga=aa(da);if(!ga)ga=ba(da);if(fa){delete ca._objectIndex[ga];}else ca._objectIndex[ga]=ea;}else{var ha=m+da;if(typeof da==='string'){if(fa){delete ca._stringIndex[ha];}else ca._stringIndex[ha]=ea;}else if(fa){delete ca._otherIndex[ha];}else ca._otherIndex[ha]=ea;}}function t(ca){ca._mapData=[];ca._objectIndex={};ca._stringIndex={};ca._otherIndex={};ca.size=0;}function u(ca){return ca!=null&&(typeof ca==='object'||typeof ca==='function');}function v(ca,da){return {value:ca,done:da};}var w=function(){try{Object.defineProperty({},'__.$#x',{});return true;}catch(ca){return false;}}();function x(ca){if(!w){return true;}else return Object.isExtensible(ca);}function y(ca){var da=void 0;switch(ca.nodeType){case 1:da=ca.uniqueID;break;case 9:da=ca.documentElement.uniqueID;break;default:return null;}if(da){return o+da;}else return null;}var z=c('guid')();function aa(ca){if(ca[z]){return ca[z];}else if(!w&&ca.propertyIsEnumerable&&ca.propertyIsEnumerable[z]){return ca.propertyIsEnumerable[z];}else if(!w&&c('isNode')(ca)&&y(ca)){return y(ca);}else if(!w&&ca[z])return ca[z];}var ba=function(){var ca=Object.prototype.propertyIsEnumerable,da=0;return function ea(fa){if(x(fa)){da+=1;if(w){Object.defineProperty(fa,z,{enumerable:false,writable:false,configurable:false,value:da});}else if(fa.propertyIsEnumerable){fa.propertyIsEnumerable=function(){return ca.apply(this,arguments);};fa.propertyIsEnumerable[z]=da;}else if(c('isNode')(fa)){fa[z]=da;}else throw new Error('Unable to set a non-enumerable property on object.');return da;}else throw new Error('Non-extensible objects are not allowed as keys.');};}();return p;}(Function('return this')());},null);
__d("arrayContains",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){return i.indexOf(j)!==-1;}f.exports=h;},null);
__d('getUnboundedScrollPosition',['Scroll'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){if(i===window)return {x:window.pageXOffset||c('Scroll').getLeft(document.documentElement),y:window.pageYOffset||c('Scroll').getTop(document.documentElement)};return {x:c('Scroll').getLeft(i),y:c('Scroll').getTop(i)};}f.exports=h;},null);
__d("flattenArray",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j){var k=[];i(j,k);return k;}function i(j,k){var l=j.length,m=0;while(l--){var n=j[m++];if(Array.isArray(n)){i(n,k);}else k.push(n);}}f.exports=h;},null);
__d("getOwnObjectValues",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){return Object.keys(i).map(function(j){return i[j];});}f.exports=h;},null);
__d('htmlSpecialChars',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=/&/g,i=/</g,j=/>/g,k=/"/g,l=/'/g;function m(n){if(typeof n=='undefined'||n===null||!n.toString)return '';if(n===false){return '0';}else if(n===true)return '1';return n.toString().replace(h,'&amp;').replace(k,'&quot;').replace(l,'&#039;').replace(i,'&lt;').replace(j,'&gt;');}f.exports=m;},null);
__d('htmlize',['htmlSpecialChars'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){return c('htmlSpecialChars')(i).replace(/\r\n|[\r\n]/g,'<br/>');}f.exports=h;},null);
__d('joinClasses',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(i){if(!i)i='';var j=void 0,k=arguments.length;if(k>1)for(var l=1;l<k;l++){j=arguments[l];if(j)i=(i?i+' ':'')+j;}return i;}f.exports=h;},null);
__d('DOMVector',['BasicVector','getDocumentScrollElement','getElementPosition','getUnboundedScrollPosition','getViewportDimensions'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('BasicVector'));i=h&&h.prototype;function j(k,l,m){'use strict';i.constructor.call(this,k,l);this.domain=m||'pure';}j.prototype.derive=function(k,l,m){'use strict';return new j(k,l,m||this.domain);};j.prototype.add=function(k,l){'use strict';if(k instanceof j&&k.getDomain()!=='pure')k=k.convertTo(this.domain);return i.add.call(this,k,l);};j.prototype.convertTo=function(k){'use strict';if(k!='pure'&&k!='viewport'&&k!='document')return this.derive(0,0);if(k==this.domain)return this.derive(this.x,this.y,this.domain);if(k=='pure')return this.derive(this.x,this.y);if(this.domain=='pure')return this.derive(0,0);var l=j.getScrollPosition('document'),m=this.x,n=this.y;if(this.domain=='document'){m-=l.x;n-=l.y;}else{m+=l.x;n+=l.y;}return this.derive(m,n,k);};j.prototype.getDomain=function(){'use strict';return this.domain;};j.from=function(k,l,m){'use strict';return new j(k,l,m);};j.getScrollPosition=function(k){'use strict';k=k||'document';var l=c('getUnboundedScrollPosition')(window);return this.from(l.x,l.y,'document').convertTo(k);};j.getElementPosition=function(k,l){'use strict';l=l||'document';var m=c('getElementPosition')(k);return this.from(m.x,m.y,'viewport').convertTo(l);};j.getElementDimensions=function(k){'use strict';return this.from(k.offsetWidth||0,k.offsetHeight||0);};j.getViewportDimensions=function(){'use strict';var k=c('getViewportDimensions')();return this.from(k.width,k.height,'viewport');};j.getViewportWithoutScrollbarDimensions=function(){'use strict';var k=c('getViewportDimensions').withoutScrollbars();return this.from(k.width,k.height,'viewport');};j.getDocumentDimensions=function(k){'use strict';var l=c('getDocumentScrollElement')(k);return this.from(l.scrollWidth,l.scrollHeight,'document');};f.exports=j;},null);
__d('EmojiImageURL',['invariant','EmojiStaticConfig','EmojiConfig'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(k,l){k=b.unescape(encodeURIComponent(k));for(var m=0;m<k.length;m++){l=(l<<5)-l+k.charCodeAt(m);l&=4294967295;}return (l&255).toString(16);}function j(k,l,m){!(l in c('EmojiStaticConfig').supportedSizes)?h(0):void 0;var n=c('EmojiConfig').pixelRatio+'/'+l+'/'+k+c('EmojiStaticConfig').fileExt,o=i(n,c('EmojiStaticConfig').checksumBase);return c('EmojiConfig').schemaAuth+'/'+m+o+'/'+n;}f.exports={getUnicodeURL:function(k){return j(k,16,c('EmojiStaticConfig').types.UNICODE);},getMessengerURL:function(k,l){return j(k,l,c('EmojiStaticConfig').types.MESSENGER);},getURL:function(k,l){return j(k,l,c('EmojiStaticConfig').types.MESSENGER);}};},null);
__d("EmojiRendererData",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={isEmoji:function(i){return (i===169||i===174||i===8252||i===8265||i===8482||i===8505||i>=8596&&i<=8601||i>=8617&&i<=8618||i>=8986&&i<=8987||i===9000||i===9167||i>=9193&&i<=9203||i>=9208&&i<=9210||i===9410||i>=9642&&i<=9643||i===9654||i===9664||i>=9723&&i<=9726||i>=9728&&i<=9732||i===9742||i===9745||i>=9748&&i<=9749||i===9752||i===9760||i>=9762&&i<=9763||i===9766||i===9770||i>=9774&&i<=9775||i===9784||i>=9800&&i<=9811||i===9824||i===9827||i>=9829&&i<=9830||i===9832||i===9851||i===9855||i>=9874&&i<=9876||i>=9878&&i<=9879||i===9881||i>=9883&&i<=9884||i>=9888&&i<=9889||i>=9898&&i<=9899||i>=9904&&i<=9905||i>=9917&&i<=9918||i>=9924&&i<=9925||i===9928||i>=9934&&i<=9935||i===9937||i>=9939&&i<=9940||i>=9961&&i<=9962||i>=9968&&i<=9973||i>=9975&&i<=9978||i===9981||i===9986||i===9989||i>=9992&&i<=9993||i===9999||i===10002||i===10004||i===10006||i===10013||i===10017||i===10024||i>=10035&&i<=10036||i===10052||i===10055||i===10060||i===10062||i>=10067&&i<=10069||i===10071||i>=10083&&i<=10084||i>=10133&&i<=10135||i===10145||i===10160||i===10175||i>=10548&&i<=10549||i>=11013&&i<=11015||i>=11035&&i<=11036||i===11088||i===11093||i===12336||i===12349||i===12951||i===12953||i===126980||i===127183||i>=127344&&i<=127345||i>=127358&&i<=127359||i===127374||i>=127377&&i<=127386||i>=127489&&i<=127490||i===127514||i===127535||i>=127538&&i<=127546||i>=127568&&i<=127569||i>=127744&&i<=127777||i>=127780&&i<=127876||i>=127878&&i<=127891||i>=127894&&i<=127895||i>=127897&&i<=127899||i>=127902&&i<=127937||i>=127941&&i<=127942||i>=127944&&i<=127945||i>=127947&&i<=127984||i>=127987&&i<=127989||i>=127991&&i<=127994||i>=128000&&i<=128065||i>=128068&&i<=128069||i>=128081&&i<=128101||i>=128106&&i<=128109||i===128111||i>=128121&&i<=128123||i>=128125&&i<=128126||i===128128||i===128132||i>=128136&&i<=128169||i>=128171&&i<=128253||i>=128255&&i<=128317||i>=128329&&i<=128334||i>=128336&&i<=128359||i>=128367&&i<=128368||i>=128371&&i<=128377||i===128391||i>=128394&&i<=128397||i===128421||i===128424||i>=128433&&i<=128434||i===128444||i>=128450&&i<=128452||i>=128465&&i<=128467||i>=128476&&i<=128478||i===128481||i===128483||i===128495||i===128499||i>=128506&&i<=128511||i>=128568&&i<=128576||i>=128584&&i<=128586||i>=128640&&i<=128674||i>=128676&&i<=128691||i>=128695&&i<=128703||i>=128705&&i<=128709||i>=128715&&i<=128720||i>=128736&&i<=128741||i===128745||i>=128747&&i<=128748||i===128752||i===128755||i===129302||i>=129408&&i<=129412||i===129472);},isEmojiModifier:function(i){return (i>=127995&&i<=127999);},isEmojiModifierBase:function(i){return (i===127877||i>=128102&&i<=128105||i===128110||i>=128112&&i<=128120||i===128124||i>=128129&&i<=128130||i>=128134&&i<=128135||i>=128581&&i<=128583||i===128587||i>=128589&&i<=128590||i===9757||i>=9785&&i<=9786||i>=9994&&i<=9997||i>=127938&&i<=127940||i===127943||i===127946||i>=128066&&i<=128067||i>=128070&&i<=128080||i===128127||i===128131||i===128133||i===128170||i===128400||i>=128405&&i<=128406||i>=128512&&i<=128567||i>=128577&&i<=128580||i===128588||i===128591||i===128675||i>=128692&&i<=128694||i===128704||i>=129296&&i<=129301||i>=129303&&i<=129304);},isEmojiVariationSelector:function(i){return i===65038||i===65039;},isRegionalIndicator:function(i){return i>=127462&&i<=127487;},isZWJ:function(i){return i===8205;}};f.exports=h;},null);
__d('UnicodeUtils',['invariant'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=55296,j=56319,k=56320,l=57343,m=/[\uD800-\uDFFF]/;function n(w){return i<=w&&w<=l;}function o(w,x){!(0<=x&&x<w.length)?h(0):void 0;if(x+1===w.length)return false;var y=w.charCodeAt(x),z=w.charCodeAt(x+1);return (i<=y&&y<=j&&k<=z&&z<=l);}function p(w){return m.test(w);}function q(w,x){return 1+n(w.charCodeAt(x));}function r(w){if(!p(w))return w.length;var x=0;for(var y=0;y<w.length;y+=q(w,y))x++;return x;}function s(w,x,y){x=x||0;y=y===undefined?Infinity:y||0;if(!p(w))return w.substr(x,y);var z=w.length;if(z<=0||x>z||y<=0)return '';var aa=0;if(x>0){for(;x>0&&aa<z;x--)aa+=q(w,aa);if(aa>=z)return '';}else if(x<0){for(aa=z;x<0&&0<aa;x++)aa-=q(w,aa-1);if(aa<0)aa=0;}var ba=z;if(y<z)for(ba=aa;y>0&&ba<z;y--)ba+=q(w,ba);return w.substring(aa,ba);}function t(w,x,y){x=x||0;y=y===undefined?Infinity:y||0;if(x<0)x=0;if(y<0)y=0;var z=Math.abs(y-x);x=x<y?x:y;return s(w,x,z);}function u(w){var x=[];for(var y=0;y<w.length;y+=q(w,y))x.push(w.codePointAt(y));return x;}var v={getCodePoints:u,getUTF16Length:q,hasSurrogateUnit:p,isCodeUnitInSurrogateRange:n,isSurrogatePair:o,strlen:r,substring:t,substr:s};f.exports=v;},null);
__d('EmojiRenderer',['EmojiRendererData','UnicodeUtils'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=0,i=1,j=2,k=3,l=4,m=5,n=6,o=7,p=8,q={parse:function(r,s){var t=null,u=[],v=h,w=0,x=r.length;while(w<x){var y=r.codePointAt(w),z=c('UnicodeUtils').getUTF16Length(r,w),aa=r.substr(w,z);switch(v){case p:if(c('EmojiRendererData').isRegionalIndicator(y)){v=k;}else v=h;break;case l:if(c('EmojiRendererData').isZWJ(y)){v=o;}else if(c('EmojiRendererData').isEmojiModifier(y)){v=m;}else if(c('EmojiRendererData').isEmojiVariationSelector(y)){v=i;}else v=h;break;case i:if(c('EmojiRendererData').isEmojiModifier(y)){v=m;}else v=h;break;case j:if(c('EmojiRendererData').isZWJ(y)){v=o;}else if(c('EmojiRendererData').isEmojiVariationSelector(y)){v=n;}else v=h;break;case k:case m:case n:if(c('EmojiRendererData').isZWJ(y)){v=o;}else v=h;break;case o:if(c('EmojiRendererData').isRegionalIndicator(y)){v=p;}else if(c('EmojiRendererData').isEmojiModifierBase(y)){v=l;}else if(c('EmojiRendererData').isEmoji(y)){v=j;}else v=h;break;}if(v===h){if(c('EmojiRendererData').isRegionalIndicator(y)){v=p;}else if(c('EmojiRendererData').isEmojiModifierBase(y)){v=l;}else if(c('EmojiRendererData').isEmoji(y))v=j;if(v!==h){if(t!==null)u.push(t);if(s!==null&&s===u.length){t=null;break;}t={emoji:[aa],length:z,offset:w};}}else if(t!==null){t.emoji.push(aa);t.length+=z;}w+=z;}if(t!==null)u.push(t);return u;},render:function(r,s,t){var u=q.parse(r),v=[],w=0;u.forEach(function(x){var y=x.offset;if(y>w)v.push(r.substr(w,y-w));v.push(s(x.emoji));w=y+x.length;});v.push(r.substr(w,r.length-w));return v;},containsEmoji:function(r){return q.parse(r,1).length===1;},countEmoji:function(r){return q.parse(r).length;}};f.exports=q;},null);
__d("Utf16",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={decode:function(i){switch(i.length){case 1:return i.charCodeAt(0);case 2:return 65536|(i.charCodeAt(0)-55296)*1024|i.charCodeAt(1)-56320;}},encode:function(i){if(i<65536){return String.fromCharCode(i);}else return String.fromCharCode(55296+(i-65536>>10))+String.fromCharCode(56320+i%1024);}};f.exports=h;},null);
__d('SupportedEmoji',['cx','EmojiImageURL','Utf16'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=new RegExp("([\u203C\u2049\u2100-\u21FF\u2300-\u27FF"+"\u2900-\u29FF\u2B00-\u2BFF\u3000-\u30FF\u3200-\u32FF]|"+"\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDEFF])([\uFE00-\uFE0F])?"),j={'1f004':true,'1f192':true,'1f199':true,'1f19a':true,'1f201':true,'1f202':true,'1f21a':true,'1f22f':true,'1f233':true,'1f235':true,'1f236':true,'1f237':true,'1f238':true,'1f239':true,'1f23a':true,'1f250':true,'1f300':true,'1f302':true,'1f303':true,'1f304':true,'1f305':true,'1f306':true,'1f307':true,'1f308':true,'1f30a':true,'1f319':true,'1f31f':true,'1f331':true,'1f334':true,'1f335':true,'1f337':true,'1f338':true,'1f339':true,'1f33a':true,'1f33b':true,'1f33e':true,'1f340':true,'1f341':true,'1f342':true,'1f343':true,'1f345':true,'1f346':true,'1f349':true,'1f34a':true,'1f34e':true,'1f353':true,'1f354':true,'1f358':true,'1f359':true,'1f35a':true,'1f35b':true,'1f35c':true,'1f35d':true,'1f35e':true,'1f35f':true,'1f361':true,'1f362':true,'1f363':true,'1f366':true,'1f367':true,'1f370':true,'1f371':true,'1f372':true,'1f373':true,'1f374':true,'1f375':true,'1f376':true,'1f378':true,'1f37a':true,'1f37b':true,'1f380':true,'1f381':true,'1f383':true,'1f384':true,'1f385':true,'1f388':true,'1f389':true,'1f38c':true,'1f38d':true,'1f38e':true,'1f38f':true,'1f390':true,'1f392':true,'1f393':true,'1f3a1':true,'1f3a2':true,'1f3a4':true,'1f3a5':true,'1f3a6':true,'1f3a7':true,'1f3a8':true,'1f3a9':true,'1f3ab':true,'1f3ac':true,'1f3ad':true,'1f3af':true,'1f3b1':true,'1f3b5':true,'1f3b6':true,'1f3b7':true,'1f3b8':true,'1f3ba':true,'1f3bc':true,'1f3be':true,'1f3bf':true,'1f3c0':true,'1f3c1':true,'1f3c6':true,'1f3c8':true,'1f3e0':true,'1f3e1':true,'1f3e2':true,'1f3e3':true,'1f3e5':true,'1f3e6':true,'1f3e7':true,'1f3e8':true,'1f3e9':true,'1f3ea':true,'1f3eb':true,'1f3ec':true,'1f3ed':true,'1f3ef':true,'1f3f0':true,'1f40d':true,'1f40e':true,'1f411':true,'1f412':true,'1f414':true,'1f417':true,'1f418':true,'1f419':true,'1f41a':true,'1f41b':true,'1f41f':true,'1f420':true,'1f421':true,'1f425':true,'1f426':true,'1f427':true,'1f428':true,'1f429':true,'1f42b':true,'1f42c':true,'1f42d':true,'1f42e':true,'1f42f':true,'1f430':true,'1f431':true,'1f433':true,'1f434':true,'1f435':true,'1f436':true,'1f437':true,'1f438':true,'1f439':true,'1f43a':true,'1f43b':true,'1f440':true,'1f442':true,'1f443':true,'1f444':true,'1f445':true,'1f446':true,'1f447':true,'1f448':true,'1f449':true,'1f44a':true,'1f44b':true,'1f44c':true,'1f44d':true,'1f44e':true,'1f44f':true,'1f450':true,'1f451':true,'1f452':true,'1f454':true,'1f455':true,'1f457':true,'1f458':true,'1f459':true,'1f45c':true,'1f45f':true,'1f460':true,'1f461':true,'1f462':true,'1f463':true,'1f466':true,'1f467':true,'1f468':true,'1f469':true,'1f46b':true,'1f46e':true,'1f46f':true,'1f471':true,'1f472':true,'1f473':true,'1f474':true,'1f475':true,'1f476':true,'1f477':true,'1f478':true,'1f47b':true,'1f47c':true,'1f47d':true,'1f47e':true,'1f47f':true,'1f480':true,'1f482':true,'1f483':true,'1f484':true,'1f485':true,'1f488':true,'1f489':true,'1f48a':true,'1f48b':true,'1f48c':true,'1f48d':true,'1f48e':true,'1f48f':true,'1f490':true,'1f491':true,'1f492':true,'1f493':true,'1f494':true,'1f496':true,'1f497':true,'1f498':true,'1f499':true,'1f49a':true,'1f49b':true,'1f49c':true,'1f49d':true,'1f49e':true,'1f49f':true,'1f4a0':true,'1f4a1':true,'1f4a2':true,'1f4a3':true,'1f4a4':true,'1f4a6':true,'1f4a7':true,'1f4a8':true,'1f4a9':true,'1f4aa':true,'1f4b0':true,'1f4b2':true,'1f4b4':true,'1f4b5':true,'1f4ba':true,'1f4bb':true,'1f4bc':true,'1f4bd':true,'1f4be':true,'1f4bf':true,'1f4c0':true,'1f4d6':true,'1f4dd':true,'1f4de':true,'1f4e0':true,'1f4e1':true,'1f4e2':true,'1f4e3':true,'1f4e8':true,'1f4e9':true,'1f4ea':true,'1f4eb':true,'1f4ec':true,'1f4ed':true,'1f4ee':true,'1f4f1':true,'1f4f2':true,'1f4f3':true,'1f4f4':true,'1f4f6':true,'1f4f7':true,'1f4fa':true,'1f4fb':true,'1f4fc':true,'1f508':true,'1f50d':true,'1f50e':true,'1f50f':true,'1f510':true,'1f511':true,'1f512':true,'1f513':true,'1f514':true,'1f51e':true,'1f525':true,'1f528':true,'1f52b':true,'1f530':true,'1f531':true,'1f532':true,'1f533':true,'1f534':true,'1f535':true,'1f536':true,'1f537':true,'1f538':true,'1f539':true,'1f5fb':true,'1f5fc':true,'1f5fd':true,'1f601':true,'1f602':true,'1f603':true,'1f604':true,'1f606':true,'1f609':true,'1f60a':true,'1f60c':true,'1f60d':true,'1f60f':true,'1f612':true,'1f613':true,'1f614':true,'1f616':true,'1f618':true,'1f61a':true,'1f61c':true,'1f61d':true,'1f61e':true,'1f620':true,'1f621':true,'1f622':true,'1f623':true,'1f624':true,'1f625':true,'1f628':true,'1f629':true,'1f62a':true,'1f62b':true,'1f62d':true,'1f630':true,'1f631':true,'1f632':true,'1f633':true,'1f635':true,'1f637':true,'1f64b':true,'1f64c':true,'1f64d':true,'1f64f':true,'1f680':true,'1f683':true,'1f684':true,'1f685':true,'1f689':true,'1f68c':true,'1f68f':true,'1f691':true,'1f692':true,'1f693':true,'1f695':true,'1f697':true,'1f699':true,'1f69a':true,'1f6a2':true,'1f6a4':true,'1f6a5':true,'1f6a7':true,'1f6ac':true,'1f6ad':true,'1f6b2':true,'1f6b9':true,'1f6ba':true,'1f6bb':true,'1f6bc':true,'1f6bd':true,'1f6be':true,'1f6c0':true,'25aa':true,'25ab':true,'25fb':true,'25fc':true,'25fd':true,'25fe':true,'260e':true,'261d':true,'263a':true,'267f':true,'26a0':true,'26a1':true,'26aa':true,'26ab':true,'26bd':true,'26be':true,'26c4':true,'26d4':true,'26ea':true,'26f2':true,'26f3':true,'26f5':true,'26fa':true,'26fd':true,'270a':true,'270b':true,'270c':true,'274c':true,'274e':true,'27a1':true,'27bf':true,'2b05':true,'2b06':true,'2b07':true,'2b1b':true,'2b1c':true,'2b50':true,'2b55':true,'303d':true,'2196':true,'2197':true,'2198':true,'2199':true,'2600':true,'2601':true,'2614':true,'2615':true,'2660':true,'2663':true,'2665':true,'2666':true,'2668':true,'2702':true,'2708':true,'2709':true,'2716':true,'2728':true,'2733':true,'2734':true,'2753':true,'2754':true,'2755':true,'2757':true,'2764_fe0f':true,'2764':true,'2934':true,'2935':true,'3297':true,'3299':true},k=function(l){var m=0;while(l.length>0){var n=i.exec(l);if(!n||!n.length)return false;var o=n[1],p=n.index,q=c('Utf16').decode(o).toString(16);if(!j[q]){m+=p+1;l=l.substr(p+1);continue;}n.index+=m;n.imageURL=c('EmojiImageURL').getUnicodeURL(q.toString(16));return n;}return false;};f.exports={findEmoji:k,emoji:j,_utf16Regex:i};},null);
__d('JSXDOM',['DOM','FbtResult','flattenArray'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=['a','blockquote','br','button','canvas','checkbox','dd','div','dl','dt','em','form','h1','h2','h3','h4','h5','h6','hr','i','iframe','img','input','label','li','option','p','pre','select','span','strong','table','tbody','thead','td','textarea','th','tr','ul','video'],i={};h.forEach(function(j){var k=function(l,m){if(arguments.length>2)m=Array.prototype.slice.call(arguments,1);if(!m&&l){m=l.children;delete l.children;}if(m){m=Array.isArray(m)?m:[m];m=m.map(function(n){if(n instanceof c('FbtResult'))return n.flattenToArray();return n;});m=c('flattenArray')(m);}return c('DOM').create(j,l,m);};i[j]=k;});f.exports=i;},null);
__d('createEmojiElement',['cx','JSXDOM'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k){return (c('JSXDOM').i({className:"_3kkw",style:{backgroundImage:'url('+k+')'}},c('JSXDOM').span({className:'accessible_elem'},j)));}f.exports=i;},null);
__d("EmoticonsList",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={emotes:{":)":"smile",":-)":"smile",":]":"smile","=)":"smile","(:":"smile","(=":"smile",":(":"frown",":-(":"frown",":[":"frown","=(":"frown",")=":"frown",":poop:":"poop",":putnam:":"putnam",":P":"tongue",":-P":"tongue",":-p":"tongue",":p":"tongue","=P":"tongue","=D":"grin",":-D":"grin",":D":"grin",":o":"gasp",":-O":"gasp",":O":"gasp",":-o":"gasp",";)":"wink",";-)":"wink","8-)":"glasses","B-)":"glasses","B|":"sunglasses","8-|":"sunglasses","8|":"sunglasses","B-|":"sunglasses",">:(":"grumpy",">:-(":"grumpy",":/":"unsure",":-/":"unsure",":\\":"unsure",":-\\":"unsure","=/":"unsure","=\\":"unsure",":'(":"cry",":'-(":"cry","3:)":"devil","3:-)":"devil","O:)":"angel","O:-)":"angel",":*":"kiss",":-*":"kiss","<3":"heart","&lt;3":"heart","♥":"heart","^_^":"kiki","^~^":"kiki","-_-":"squint","o.O":"confused","O.o":"confused_rev",">:o":"upset",">:O":"upset",">:-O":"upset",">:-o":"upset",">_<":"upset",">.<":"upset",":v":"pacman",":V":"pacman",":|]":"robot",":3":"colonthree","<(\")":"penguin","(^^^)":"shark","(y)":"like",":like:":"like","(Y)":"like"},symbols:{smile:":)",frown:":(",poop:":poop:",putnam:":putnam:",tongue:":P",grin:"=D",gasp:":o",wink:";)",glasses:"8-)",sunglasses:"B|",grumpy:">:(",unsure:":/",cry:":'(",devil:"3:)",angel:"O:)",kiss:":*",heart:"<3",kiki:"^_^",squint:"-_-",confused:"o.O",confused_rev:"O.o",upset:">:o",pacman:":v",robot:":|]",colonthree:":3",penguin:"<(\")",shark:"(^^^)",like:"(y)"},regexp:/(^|[\s\'\".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|:poop:|:putnam:|:P|:\-P|:\-p|:p|=P|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\||8\-\||8\||B\-\||>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:\'\(|:\'\-\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|:\*|:\-\*|<3|&lt;3|\u2665|\^_\^|\^~\^|\-_\-|o\.O|O\.o|>:o|>:O|>:\-O|>:\-o|>_<|>\.<|:v|:V|:\|\]|:3|<\(\"\)(?!\))|\(\^\^\^\)(?!\))|\(y\)(?!\))|:like:|\(Y\)(?!\)))([\s\'\".,!?]|<br>|$)/,noncapturingRegexp:/(?:^|[\s\'\".])(:\)(?!\))|:\-\)(?!\))|:\]|=\)(?!\))|\(:|\(=|:\(|:\-\(|:\[|=\(|\)=|:poop:|:putnam:|:P|:\-P|:\-p|:p|=P|=D|:\-D|:D|:o|:\-O|:O|:\-o|;\)(?!\))|;\-\)(?!\))|8\-\)(?!\))|B\-\)(?!\))|B\||8\-\||8\||B\-\||>:\(|>:\-\(|:\/|:\-\/|:\\|:\-\\|=\/|=\\|:\'\(|:\'\-\(|3:\)(?!\))|3:\-\)(?!\))|O:\)(?!\))|O:\-\)(?!\))|:\*|:\-\*|<3|&lt;3|\u2665|\^_\^|\^~\^|\-_\-|o\.O|O\.o|>:o|>:O|>:\-O|>:\-o|>_<|>\.<|:v|:V|:\|\]|:3|<\(\"\)(?!\))|\(\^\^\^\)(?!\))|\(y\)(?!\))|:like:|\(Y\)(?!\)))(?:[\s\'\".,!?]|<br>|$)/};},null);
__d("str2rstr",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){var j="",k,l;for(var m=0;m<i.length;m++){k=i.charCodeAt(m);l=m+1<i.length?i.charCodeAt(m+1):0;if(55296<=k&&k<=56319&&56320<=l&&l<=57343){k=65536+((k&1023)<<10)+(l&1023);m++;}if(k<=127){j+=String.fromCharCode(k);}else if(k<=2047){j+=String.fromCharCode(192|k>>>6&31,128|k&63);}else if(k<=65535){j+=String.fromCharCode(224|k>>>12&15,128|k>>>6&63,128|k&63);}else if(k<=2097151)j+=String.fromCharCode(240|k>>>18&7,128|k>>>12&63,128|k>>>6&63,128|k&63);}return j;}f.exports=h;},null);
__d('SearchI18nArabic',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=/[\u0600-\u06FF]/;function i(o){return h.test(o);}var j={1570:1575,1571:1575,1573:1575,1649:1575,1609:1610,1577:1607,1572:1569,1574:1569},k=[1600,1611,1612,1613,1614,1615,1616,1617,1618];function l(o){return j.hasOwnProperty(o)?String.fromCharCode(j[o]):k.indexOf(o)!=-1?'':String.fromCharCode(o);}function m(o){if(!i(o))return o;var p=[];for(var q=0;q<o.length;q++){var r=o.charCodeAt(q);p.push(l(r));}return p.join('');}var n={hasArabicCharacters:i,normalizeCharCode:l,arabicNormalization:m};f.exports=n;},null);
__d('UnicodeCJK',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h='a-zA-Z',i='\uFF21-\uFF3A\uFF41-\uFF5A',j=h+i,k='\u3040-\u309F',l='\u30A0-\u30FF',m='\u31F0-\u31FF',n='\uFF65-\uFF9F',o=l+m+n,p=k+o,q=[12352,12447],r=[12448,12543],s=r[0]-q[0],t='\u4E00-\u9FCF',u='\u3400-\u4DBF',v=t+u,w='\uAC00-\uD7AF',x=v+p+w,y=null,z=null,aa=null,ba=null;function ca(ka){z=z||new RegExp('['+p+']');return z.test(ka);}function da(ka){y=y||new RegExp('['+v+']');return y.test(ka);}function ea(ka){aa=aa||new RegExp('['+x+']');return aa.test(ka);}function fa(ka){var la=ka.charCodeAt(0);return String.fromCharCode(la<q[0]||la>q[1]?la:la+s);}function ga(ka){if(!ca(ka))return ka;return ka.split('').map(fa).join('');}function ha(ka){ba=ba||new RegExp('^'+'['+p+']+'+'['+j+']'+'$');return ba.test(ka);}function ia(ka){if(ha(ka))return ka.substr(0,ka.length-1);return ka;}var ja={hasKana:ca,hasIdeograph:da,hasIdeoOrSyll:ea,hiraganaToKatakana:ga,isKanaWithTrailingLatin:ha,kanaRemoveTrailingLatin:ia};f.exports=ja;},null);
__d('UnicodeHangulKorean',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=/[\u3130-\u318F\uAC00-\uD7AF]/;function i(ba){return h.test(ba);}var j=[4352,4353,4522,4354,4524,4525,4355,4356,4357,4528,4529,4530,4531,4532,4533,4378,4358,4359,4360,4385,4361,4362,4363,4364,4365,4366,4367,4368,4369,4370,4449,4450,4451,4452,4453,4454,4455,4456,4457,4458,4459,4460,4461,4462,4463,4464,4465,4466,4467,4468,4469,4448,4372,4373,4551,4552,4556,4558,4563,4567,4569,4380,4573,4575,4381,4382,4384,4386,4387,4391,4393,4395,4396,4397,4398,4399,4402,4406,4416,4423,4428,4593,4594,4439,4440,4441,4484,4485,4488,4497,4498,4500,4510,4513],k=12593,l=j.length,m=k+l;function n(ba){return String.fromCharCode(j[ba-k]);}var o=4352,p=4449,q=4519,r=44032,s=19,t=21,u=28,v=t*u,w=s*v,x=r+w;function y(ba){var ca=ba-r,da=ca%u;return String.fromCharCode(o+ca/v)+String.fromCharCode(p+ca%v/u)+(da>0?String.fromCharCode(q+da):'');}function z(ba){if(!i(ba))return ba;var ca=[];for(var da=0;da<ba.length;da++){var ea=ba.charAt(da),fa=ea.charCodeAt(0);ca.push(k<=fa&&fa<m?n(fa):r<=fa&&fa<x?y(fa):ea);}return ca.join('');}var aa={toConjoiningJamo:z};f.exports=aa;},null);
__d('SearchI18nMatch',['invariant','UnicodeHangulKorean','UnicodeCJK','SearchI18nArabic','createObjectFrom','mapObject'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=['prefix_hangul_conjoining_jamo','prefix_kana_drop_trailing_latin','prefix_kana_hiragana_to_katakana','search_i18n_prefix_arabic_normalization'];function j(k){this.config=c('createObjectFrom')(i,false);this.setConfigs(k||{});}j.prototype.setConfigs=function(k){c('mapObject')(k,function(l,m){return this.setConfig(m,l);}.bind(this),this);};j.prototype.setConfig=function(k,l){!(k in this.config)?h(0):void 0;this.config[k]=l;};j.prototype.prefixMatchPrepare=function(k){if(k){if(this.config.prefix_hangul_conjoining_jamo)k=c('UnicodeHangulKorean').toConjoiningJamo(k);if(this.config.prefix_kana_drop_trailing_latin)k=c('UnicodeCJK').kanaRemoveTrailingLatin(k);if(this.config.prefix_kana_hiragana_to_katakana)k=c('UnicodeCJK').hiraganaToKatakana(k);if(this.config.search_i18n_prefix_arabic_normalization)k=c('SearchI18nArabic').arabicNormalization(k);}return k;};j.prototype.prefixMatch=function(k,l){k=this.prefixMatchPrepare(k);l=this.prefixMatchPrepare(l);return k.startsWith(l);};f.exports=j;},null);
__d('TokenizeUtil',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=/[ ]+/g,i=/[^ ]+/g,j=new RegExp(k(),'g');function k(){return '[.,+*?$|#{}()\'\\^\\-\\[\\]\\\\\\/!@%"~=<>_:;'+'\u30fb\u3001\u3002\u3008-\u3011\u3014-\u301f\uff1a-\uff1f\uff01-\uff0f'+'\uff3b-\uff40\uff5b-\uff65\u2E2E\u061f\u066a-\u066c\u061b\u060c\u060d'+'\uFD3e\uFD3F\u1801\u0964\u104a\u104b\u2010-\u2027\u2030-\u205e'+'\u00a1-\u00b1\u00b4-\u00b8\u00ba\u00bb\u00bf]';}var l={},m={a:"\u0430 \u00e0 \u00e1 \u00e2 \u00e3 \u00e4 \u00e5 \u0101",b:"\u0431",c:"\u0446 \u00e7 \u010d",d:"\u0434 \u00f0 \u010f \u0111",e:"\u044d \u0435 \u00e8 \u00e9 \u00ea \u00eb \u011b \u0113",f:"\u0444",g:"\u0433 \u011f \u0123",h:"\u0445 \u0127",i:"\u0438 \u00ec \u00ed \u00ee \u00ef \u0131 \u012b",j:"\u0439",k:"\u043a \u0138 \u0137",l:"\u043b \u013e \u013a \u0140 \u0142 \u013c",m:"\u043c",n:"\u043d \u00f1 \u0148 \u0149 \u014b \u0146",o:"\u043e \u00f8 \u00f6 \u00f5 \u00f4 \u00f3 \u00f2",p:"\u043f",r:"\u0440 \u0159 \u0155",s:"\u0441 \u015f \u0161 \u017f",t:"\u0442 \u0165 \u0167 \u00fe",u:"\u0443 \u044e \u00fc \u00fb \u00fa \u00f9 \u016f \u016b",v:"\u0432",y:"\u044b \u00ff \u00fd",z:"\u0437 \u017e",ae:"\u00e6",oe:"\u0153",ts:"\u0446",ch:"\u0447",ij:"\u0133",sh:"\u0448",ss:"\u00df",ya:"\u044f"};for(var n in m){var o=m[n].split(' ');for(var p=0;p<o.length;p++)l[o[p]]=n;}var q={};function r(x){return x?x.replace(j,' '):'';}function s(x){x=x.toLowerCase();var y='',z='';for(var aa=x.length;aa--;){z=x.charAt(aa);y=(l[z]||z)+y;}return y.replace(h,' ');}function t(x){var y=[],z=i.exec(x);while(z){z=z[0];y.push(z);z=i.exec(x);}return y;}function u(x,y){if(!q.hasOwnProperty(x)){var z=s(x),aa=r(z);q[x]={value:x,flatValue:z,tokens:t(aa),isPrefixQuery:aa&&aa[aa.length-1]!=' '};}if(y&&typeof q[x].sortedTokens=='undefined'){q[x].sortedTokens=q[x].tokens.slice();q[x].sortedTokens.sort(function(ba,ca){return ca.length-ba.length;});}return q[x];}function v(x,y,z){var aa=u(y,x=='prefix'),ba=x=='prefix'?aa.sortedTokens:aa.tokens,ca=u(z).tokens,da={},ea=aa.isPrefixQuery&&x=='query'?ba.length-1:null,fa=function(ga,ha){for(var ia=0;ia<ca.length;++ia){var ja=ca[ia];if(!da[ia]&&(ja==ga||(x=='query'&&ha===ea||x=='prefix')&&ja.indexOf(ga)===0))return da[ia]=true;}return false;};return Boolean(ba.length&&ba.every(fa));}var w={flatten:s,parse:u,getPunctuation:k,isExactMatch:v.bind(null,'exact'),isQueryMatch:v.bind(null,'query'),isPrefixMatch:v.bind(null,'prefix'),tokenize:t};f.exports=w;},null);
__d('createIxElement',['invariant','DOM','joinClasses'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k){var l='img',m;!(j.sprited||j.uri)?h(0):void 0;if(j.sprited){l=c('joinClasses')(l,j.spriteMapCssClass,j.spriteCssClass);m=c('DOM').create('i',{className:l});if(k!=null)c('DOM').setContent(m,c('DOM').create('u',null,k));}else if(j.uri){m=c('DOM').create('img',{className:l,src:j.uri});if(k!=null)m.setAttribute('alt',k);if(j.width)m.setAttribute('width',j.width);if(j.height)m.setAttribute('height',j.height);}return m;}f.exports=i;},null);
__d('throttle',['setTimeout','setTimeoutAcrossTransitions'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j,k,l){return i(j,k,l,c('setTimeout'),false);}Object.assign(h,{acrossTransitions:function(j,k,l){return i(j,k,l,c('setTimeoutAcrossTransitions'),false);},withBlocking:function(j,k,l){return i(j,k,l,c('setTimeout'),true);},acrossTransitionsWithBlocking:function(j,k,l){return i(j,k,l,c('setTimeoutAcrossTransitions'),true);}});function i(j,k,l,m,n){var o=k==null?100:k,p,q,r=0,s=null,t=function(){r=Date.now();if(q){j.apply(p,q);q=null;s=m(t,o);}else s=null;};t.__SMmeta=j.__SMmeta;return function u(){q=arguments;p=this;if(l!==undefined)p=l;if(s===null||Date.now()-r>o)if(n){t();}else s=m(t,0);};}f.exports=h;},null);
__d('TypeaheadFacepile',['DOM'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){}h.render=function(i){var j=[c('DOM').create('span',{className:'splitpic leftpic'},[c('DOM').create('img',{alt:'',src:i[0]})]),c('DOM').create('span',{className:'splitpic'+(i[2]?' toppic':'')},[c('DOM').create('img',{alt:'',src:i[1]})])];if(i[2])j.push(c('DOM').create('span',{className:'splitpic bottompic'},[c('DOM').create('img',{alt:'',src:i[2]})]));return c('DOM').create('span',{className:'splitpics clearfix'},j);};f.exports=h;},null);
__d('ARIA',['AccessibilityConfig','DOM','emptyFunction','ge','getOrCreateDOMID'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h,i,j=function(){h=c('ge')('ariaAssertiveAlert');if(!h){h=c('DOM').create('div',{id:'ariaAssertiveAlert',className:'accessible_elem','aria-live':'assertive'});c('DOM').appendContent(document.body,h);}i=c('ge')('ariaPoliteAlert');if(!i){i=h.cloneNode(false);i.setAttribute('id','ariaPoliteAlert');i.setAttribute('aria-live','polite');c('DOM').appendContent(document.body,i);}j=c('emptyFunction');};function k(m,n){j();var o=n?h:i;c('DOM').setContent(o,m);}var l={owns:function(m,n){m.setAttribute('aria-owns',c('getOrCreateDOMID')(n));},setPopup:function(m,n){var o=c('getOrCreateDOMID')(n);m.setAttribute('aria-owns',o);m.setAttribute('aria-haspopup','true');if(!c('AccessibilityConfig').a11yDontMessWithTabindex)if(m.tabIndex==-1)m.tabIndex=0;},announce:function(m){k(m,true);},notify:function(m){k(m);}};f.exports=l;},null);
__d('BadgeHelper',['cx','DOM','joinClasses'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={xsmall:"_5dzz",small:"_5dz-",medium:"_5dz_",large:"_5d-0",xlarge:"_5d-1"},j={verified:"_56_f",trending:"_1gop",topcommenter:"_59t2",page_gray_check:"_5n3t",work:"_5d62",game_blue:"_59c6"};function k(m,n){return c('joinClasses')(i[m],j[n],"_5dzy");}function l(m,n){var o=k(m,n);if(o)return c('DOM').create('span',{className:o});}f.exports={getClasses:k,renderBadge:l,sizes:Object.keys(i),types:Object.keys(j)};},null);
__d('BasicTypeaheadRenderer',['BadgeHelper','DOM'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=' \u00B7 ';function i(j,k){var l=[];if(j.icon)l.push(c('DOM').create('img',{alt:'',src:j.icon}));var m=j.debug_info;if(m)l.push(c('DOM').create('span',{className:'debugInfo'},m));if(j.text){var n=[j.text];if(j.is_verified)n.push(c('BadgeHelper').renderBadge('xsmall','verified'));l.push(c('DOM').create('span',{className:'text'},n));}if(j.subtext){var o=[j.subtext];if(j.saved_context){var p=c('DOM').create('span',{className:'saved'},[j.saved_context]);o.unshift(p,h);}l.push(c('DOM').create('span',{className:'subtext'},o));}var q=c('DOM').create('li',{className:j.type||''},l);if(j.text){q.setAttribute('title',j.text);q.setAttribute('aria-label',j.text);}return q;}i.className='basic';f.exports=i;},null);
__d('TypeaheadView',['ix','$','ArbiterMixin','BasicTypeaheadRenderer','CSS','DOM','Event','Parent','createIxElement','emptyFunction','getElementText','getOrCreateDOMID','mixin'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('mixin')(c('ArbiterMixin')));j=i&&i.prototype;function k(l,m){'use strict';j.constructor.call(this);this.element=this.content=c('$')(l);Object.assign(this,m);}k.prototype.init=function(){'use strict';this.init=c('emptyFunction');this.initializeEvents();this.reset();};k.prototype.initializeEvents=function(){'use strict';c('Event').listen(this.element,{mouseup:this.mouseup.bind(this),mouseover:this.mouseover.bind(this)});};k.prototype.setTypeahead=function(l){'use strict';this.typeahead=l;};k.prototype.setAccessibilityControlElement=function(l){'use strict';this.accessibilityElement=l;};k.prototype.getElement=function(){'use strict';return this.element;};k.prototype.mouseup=function(event){'use strict';if(event.button!=2){this.select(true);event.prevent();}};k.prototype.mouseover=function(event){'use strict';if(this.ignoreMouseover){this.ignoreMouseover=false;return;}if(this.visible)this.highlight(this.getIndex(event));};k.prototype.reset=function(l){'use strict';if(!l)this.disableAutoSelect=false;this.index=-1;this.items=[];this.results=[];this.value='';this.content.innerHTML='';this.inform('reset');return this;};k.prototype.getIndex=function(event){'use strict';return this.items.indexOf(c('Parent').byTag(event.getTarget(),'li'));};k.prototype.getSelection=function(){'use strict';var l=this.results[this.index]||null;return this.visible?l:null;};k.prototype.isEmpty=function(){'use strict';return !this.results.length;};k.prototype.isVisible=function(){'use strict';return !!this.visible;};k.prototype.show=function(){'use strict';c('CSS').show(this.element);if(this.results&&this.results.length)if(this.autoSelect&&this.accessibilityElement&&this.selected)this.accessibilityElement.setAttribute('aria-activedescendant',c('getOrCreateDOMID')(this.selected));this.accessibilityElement&&this.accessibilityElement.setAttribute('aria-expanded','true');this.visible=true;return this;};k.prototype.hide=function(){'use strict';c('CSS').hide(this.element);if(this.accessibilityElement){this.accessibilityElement.setAttribute('aria-expanded','false');this.accessibilityElement.removeAttribute('aria-activedescendant');}this.visible=false;return this;};k.prototype.render=function(l,m,n){'use strict';this.value=l;if(!m.length){this.accessibilityElement&&this.accessibilityElement.removeAttribute('aria-activedescendant');this.reset(true);return;}var o={results:m,value:l};this.inform('beforeRender',o);m=o.results;var p=n&&this.index!=-1?this.index:this.getDefaultIndex(m);this.results=m;c('DOM').setContent(this.content,this.buildResults(m));this.items=this.getItems();this.highlight(p,false);this.inform('render',this.results);};k.prototype.getItems=function(){'use strict';return c('DOM').scry(this.content,'li');};k.prototype.buildResults=function(l){'use strict';var m,n=null;if(typeof this.renderer=='function'){m=this.renderer;n=this.renderer.className||'';}else{m=b.TypeaheadRenderers[this.renderer];n=this.renderer;}m=m.bind(this);var o=l.map(function(q,r){var s=q.node||m(q,r);s.setAttribute('role','option');return s;}),p=c('DOM').create('ul',{className:n,id:'typeahead_list_'+(this.typeahead?c('getOrCreateDOMID')(this.typeahead):c('getOrCreateDOMID')(this.element))},o);p.setAttribute('role','listbox');return p;};k.prototype.showLoadingIndicator=function(){'use strict';var l=c('createIxElement')(h('/images/loaders/indicator_blue_small.gif')),m=c('DOM').create('li',{className:'typeaheadViewInternalLoading'},l),n=c('DOM').create('ul',{role:'listbox'},m);c('DOM').setContent(this.content,n);};k.prototype.getDefaultIndex=function(){'use strict';var l=this.autoSelect&&!this.disableAutoSelect;return this.index<0&&!l?-1:0;};k.prototype.next=function(){'use strict';this.highlight(this.index+1);this.inform('next',this.selected);};k.prototype.prev=function(){'use strict';this.highlight(this.index-1);this.inform('prev',this.selected);};k.prototype.getItemText=function(l){'use strict';var m='';if(l){m=l.getAttribute('aria-label');if(!m){m=c('getElementText')(l);l.setAttribute('aria-label',m);}}return m;};k.prototype.setIsViewingSelectedItems=function(l){'use strict';this.viewingSelected=l;return this;};k.prototype.getIsViewingSelectedItems=function(){'use strict';return !!this.viewingSelected;};k.prototype.highlight=function(l,m){'use strict';if(this.selected){c('CSS').removeClass(this.selected,'selected');this.selected.setAttribute('aria-selected','false');}if(l>this.items.length-1){l=-1;}else if(l<-1)l=this.items.length-1;if(l>=0&&l<this.items.length){this.selected=this.items[l];c('CSS').addClass(this.selected,'selected');this.selected.setAttribute('aria-selected','true');if(this.accessibilityElement)setTimeout(function(){this.accessibilityElement.setAttribute('aria-activedescendant',c('getOrCreateDOMID')(this.selected));}.bind(this),0);}else this.accessibilityElement&&this.accessibilityElement.removeAttribute('aria-activedescendant');this.index=l;this.disableAutoSelect=l==-1;if(m!==false)this.inform('highlight',{index:l,selected:this.results[l],element:this.selected});};k.prototype.select=function(l){'use strict';if(this.headerIndex&&l)return;var m=this.index,n=this.results[m],o=this.element.getAttribute('id');if(n){var p=function(q){this.inform('select',{index:m,clicked:!!l,selected:q,id:o,query:this.value});this.inform('afterSelect');}.bind(this);if(this.shouldValidateTypeaheadSelection(n)){this.validateTypeaheadSelection(n,p);}else p(n);}};k.prototype.shouldValidateTypeaheadSelection=function(l){'use strict';return false;};k.prototype.validateTypeaheadSelection=function(l,m){'use strict';};Object.assign(k.prototype,{events:['highlight','render','reset','select','beforeRender','next','prev'],renderer:c('BasicTypeaheadRenderer'),autoSelect:false,ignoreMouseover:false});f.exports=k;},null);
__d('BucketedTypeaheadView',['fbt','DOM','TypeaheadView'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('TypeaheadView'));j=i&&i.prototype;k.prototype.render=function(l,m,n,o){'use strict';var p=m.length>0;for(var q=0;q<m.length;++q)if(m[q].type!=='hashtag')p=false;if(!p)m=this.buildBuckets(l,m);if(n&&o){var r=this.results.length-this.index;this.index=m.length-r;}return j.render.call(this,l,m,n);};k.prototype.highlight=function(l,m){'use strict';this.headerIndex=false;if(l==-1&&this.index!==0)l=this.index;while(l>=0&&l<this.items.length&&!this.isHighlightable(this.results[l])){l=l+1;this.headerIndex=true;}j.highlight.call(this,l,m);};k.prototype.buildBuckets=function(l,m){'use strict';if(!this.typeObjects||!m||!m.length)return m;var n=[],o={};for(var p=0;p<m.length;++p){var q=m[p],r=q.render_type||q.type;if(!o.hasOwnProperty(r)){o[r]=n.length;n.push([this.buildBucketHeader(r)]);}q.classNames=q.classNames||r;q.groupIndex=o[r];q.indexInGroup=n[q.groupIndex].length-1;q.globalIndex=p;n[q.groupIndex].push(q);}for(r in this.typeObjects)if(!o.hasOwnProperty(r)&&this.typeObjects[r].show_always){o[r]=n.length;n.push([this.buildBucketHeader(r)]);q=this.buildNoResultsEntry();q.classNames=q.type;q.groupIndex=o[r];q.indexInGroup=n[q.groupIndex].length-1;n[q.groupIndex].push(q);}var s=[];if(this.typeObjectsOrder){for(var t=0;t<this.typeObjectsOrder.length;++t){var u=this.typeObjectsOrder[t];if(o.hasOwnProperty(u))s=s.concat(n[o[u]]);}}else for(var v=0;v<n.length;++v)s=s.concat(n[v]);return s;};k.prototype.buildNoResultsEntry=function(){'use strict';return {uid:'disabled_result',type:'disabled_result',text:h._("\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u043d\u0435\u0442")};};k.prototype.buildBucketHeader=function(l){'use strict';var m=this.typeObjects[l];if(m===undefined)throw new Error(l+" is undefined in "+JSON.stringify(this.typeObjects));if(m.markup){m.text=m.markup;delete m.markup;}return this.typeObjects[l];};k.prototype.buildResults=function(l){'use strict';var m=j.buildResults.call(this,l);if(this.typeObjects){return c('DOM').create('div',{className:'bucketed'},[m]);}else return m;};k.prototype.isHighlightable=function(l){'use strict';return l.type!='header'&&l.type!='disabled_result';};k.prototype.select=function(l){'use strict';var m=this.results[this.index];if(m&&this.isHighlightable(m))j.select.call(this,l);};k.prototype.updateResults=function(l){'use strict';this.results=l;};k.prototype.normalizeIndex=function(l){'use strict';var m=this.results.length;if(m===0){return -1;}else if(l<-1){return l%m+m+1;}else if(l>=m){return l%m-1;}else return l;};k.prototype.getDefaultIndex=function(l){'use strict';var m=this.autoSelect&&!this.disableAutoSelect;if(this.index<0&&!m)return -1;if(l.length===0)return -1;var n=0;while(!this.isHighlightable(l)&&n<l.length)n++;return n;};k.prototype.prev=function(){'use strict';var l=this.results[this.normalizeIndex(this.index-1)];while(l&&!this.isHighlightable(l)){this.index=this.normalizeIndex(this.index-1);l=this.results[this.normalizeIndex(this.index-1)];}return j.prev.call(this);};k.prototype.next=function(){'use strict';var l=this.results[this.normalizeIndex(this.index+1)];while(l&&!this.isHighlightable(l)){this.index=this.normalizeIndex(this.index+1);l=this.results[this.normalizeIndex(this.index+1)];}return j.next.call(this);};function k(){'use strict';i.apply(this,arguments);}f.exports=k;},null);
__d('LinkController',['DataStore','Event','Parent','trackReferrer'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h='@@LinkController',i=[],j=[],k={registerHandler:function(q){i.push(q);},registerFallbackHandler:function(q){j.push(q);}};function l(q){var r=q.getTarget(),s=c('Parent').byTag(r,'a'),t=n(s);if(!t||p(r)||c('DataStore').get(s,h))return;var u=c('Event').listen(s,'click',function(v){if(t.endsWith('#')){v.prevent();}else{c('trackReferrer')(s,t);if(!s.rel&&!s.target&&!o(v))m(s,v);}});c('DataStore').set(s,h,u);}function m(q,event){i.concat(j).every(function(r){if(r(q,event)===false){event.prevent();return false;}return true;});}function n(q){if(q&&!q.rel){var r=q.getAttribute('href');if(r){var s=r.match(/^(\w+):/);if(!s||s[1].match(/^http/i))return r;}}return null;}function o(event){return event.getModifiers().any||event.which&&event.which!==1;}function p(q){return (q.nodeName==='INPUT'&&q.type==='file');}c('Event').listen(document.documentElement,'mousedown',l);c('Event').listen(document.documentElement,'keydown',l);f.exports=k;},null);
__d('computeRelativeURI',['URI','isFacebookURI','isEmpty'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j,k){if(!k)return j;if(k.charAt(0)=='/')return k;var l=j.split('/').slice(0,-1);l[0]!=='';k.split('/').forEach(function(m){if(!(m=='.'))if(m=='..'){if(l.length>1)l=l.slice(0,-1);}else l.push(m);});return l.join('/');}function i(j,k){var l=new (c('URI'))(),m=k;j=new (c('URI'))(j);k=new (c('URI'))(k);if(k.getDomain()&&!c('isFacebookURI')(k))return m;var n=j,o=['Protocol','Domain','Port','Path','QueryData','Fragment'];o.forEach(function(p){var q=p=='Path'&&n===j;if(q)l.setPath(h(j.getPath(),k.getPath()));if(!c('isEmpty')(k['get'+p]()))n=k;if(!q)l['set'+p](n['get'+p]());});return l;}f.exports=i;},null);
__d('PageTransitionsRegistrar',['invariant','Bootloader','DOMQuery','Event','Form','LinkController','Parent','Run','URI','computeRelativeURI','goURI','setTimeoutAcrossTransitions'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();c('Run').onAfterLoad(function(){c('Bootloader').loadModules(["PageTransitions"],function(s){if(s&&s._init)s._init();},'PageTransitionsRegistrar');});var i=[],j=[],k={DELAY_HISTORY:'delay_history_PTR',registerHandler:function(s,t){!(s!=null)?h(0):void 0;t=t||5;if(!i[t])i[t]=[];i[t].push(s);},removeHandler:function(s,t){t=t||5;var u=-1;if(i[t])u=i[t].indexOf(s);if(u>-1)i[t].splice(u,1);},registerCompletionCallback:function(s){j.push(s);},getMostRecentURI:r,_getTransitionHandlers:function(){return i;},_getCompletionCallbacks:function(){return j;},_resetCompletionCallbacks:function(){j=[];}},l=null,m=null;function n(s){m=s;c('setTimeoutAcrossTransitions')(function(){m=null;},0);}function o(event){var s=m;if(s){if(!event.isDefaultPrevented()){p(m);c('goURI')(s.getAttribute('href'));}event.kill();}else{l=event.getTarget();c('setTimeoutAcrossTransitions')(function(){l=null;},0);}}function p(s){var t=s.getAttribute('href'),u=c('computeRelativeURI')(r().getQualifiedURI(),t).toString();if(t!=u)s.setAttribute('href',u);}function q(event){var s=event.getTarget();if(c('Form').getAttribute(s,'rel')||c('Form').getAttribute(s,'target'))return;var t=new (c('URI'))(c('Form').getAttribute(s,'action')),u=c('computeRelativeURI')(r(),t);s.setAttribute('action',u.toString());if((c('Form').getAttribute(s,'method')||'GET').toUpperCase()=='GET'){var v=c('Form').serialize(s),w=l;if(w&&(c('DOMQuery').isNodeOfType(w,'input')&&w.type==='submit'||(w=c('Parent').byTag(w,'button')))&&w.name)v[w.name]=w.value;c('goURI')(u.addQueryData(v));event.kill();}}c('LinkController').registerFallbackHandler(n);c('Event').listen(document,'click',o,c('Event').Priority._BUBBLE);c('Event').listen(document,'submit',q,c('Event').Priority._BUBBLE);function r(){if(b.PageTransitions&&b.PageTransitions.isInitialized()){return b.PageTransitions.getMostRecentURI();}else{var s=c('URI').getRequestURI(false),t=s.getUnqualifiedURI(),u=new (c('URI'))(t).setFragment(null),v=t.getFragment();if(v.charAt(0)==='!'&&u.toString()===v.substr(1))t=u;return t;}}f.exports=k;},null);
__d('LayerHideOnTransition',['PageTransitionsRegistrar'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this._layer=i;}h.prototype.enable=function(){'use strict';this._enabled=true;if(!this._subscribed)setTimeout(this._subscribe.bind(this),0);};h.prototype.disable=function(){'use strict';this._enabled=false;};h.prototype._handler=function(){'use strict';if(this._enabled)this._layer.hide();this._subscribe();};h.prototype._subscribe=function(){'use strict';c('PageTransitionsRegistrar').registerHandler(this._handler.bind(this));this._subscribed=true;};Object.assign(h.prototype,{_enabled:false,_subscribed:false});f.exports=h;},null);
__d('Vector',['DOMVector','Event','Scroll'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('DOMVector'));i=h&&h.prototype;function j(k,l,m){'use strict';i.constructor.call(this,parseFloat(k),parseFloat(l),m);}j.prototype.derive=function(k,l,m){'use strict';return new j(k,l,m||this.domain);};j.prototype.setElementPosition=function(k){'use strict';var l=this.convertTo('document');k.style.left=parseInt(l.x,10)+'px';k.style.top=parseInt(l.y,10)+'px';return this;};j.prototype.setElementDimensions=function(k){'use strict';return this.setElementWidth(k).setElementHeight(k);};j.prototype.setElementWidth=function(k){'use strict';k.style.width=parseInt(this.x,10)+'px';return this;};j.prototype.setElementHeight=function(k){'use strict';k.style.height=parseInt(this.y,10)+'px';return this;};j.prototype.scrollElementBy=function(k){'use strict';if(k==document.body){window.scrollBy(this.x,this.y);}else{c('Scroll').setLeft(k,c('Scroll').getLeft(k)+this.x);c('Scroll').setTop(k,c('Scroll').getTop(k)+this.y);}return this;};j.from=function(k,l,m){'use strict';return new j(k,l,m);};j.getEventPosition=function(k,l){'use strict';l=l||'document';var m=c('Event').getPosition(k),n=this.from(m.x,m.y,'document');return n.convertTo(l);};j.deserialize=function(k){'use strict';var l=k.split(',');return this.from(l[0],l[1]);};f.exports=j;},null);
__d('Rect',['Vector','$'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k,l,m){'use strict';if(arguments.length===1){if(i instanceof h)return i;if(i instanceof c('Vector'))return new h(i.y,i.x,i.y,i.x,i.domain);return h.getElementBounds(c('$')(i));}Object.assign(this,{t:i,r:j,b:k,l:l,domain:m||'pure'});}h.prototype.w=function(){'use strict';return this.r-this.l;};h.prototype.h=function(){'use strict';return this.b-this.t;};h.prototype.toString=function(){'use strict';return '(('+this.l+', '+this.t+'), ('+this.r+', '+this.b+'))';};h.prototype.contains=function(i){'use strict';i=new h(i).convertTo(this.domain);var j=this;return j.l<=i.l&&j.r>=i.r&&j.t<=i.t&&j.b>=i.b;};h.prototype.isEqualTo=function(i){'use strict';return (this.t===i.t&&this.r===i.r&&this.b===i.b&&this.l===i.l&&this.domain===i.domain);};h.prototype.add=function(i,j){'use strict';if(arguments.length==1){if(i.domain!='pure')i=i.convertTo(this.domain);return this.add(i.x,i.y);}var k=parseFloat(i),l=parseFloat(j);return new h(this.t+l,this.r+k,this.b+l,this.l+k,this.domain);};h.prototype.sub=function(i,j){'use strict';if(arguments.length==1){return this.add(i.mul(-1));}else return this.add(-i,-j);};h.prototype.rotateAroundOrigin=function(i){'use strict';var j=this.getCenter().rotate(i*Math.PI/2),k,l;if(i%2){k=this.h();l=this.w();}else{k=this.w();l=this.h();}var m=j.y-l/2,n=j.x-k/2,o=m+l,p=n+k;return new h(m,p,o,n,this.domain);};h.prototype.boundWithin=function(i){'use strict';var j=0,k=0;if(this.l<i.l){j=i.l-this.l;}else if(this.r>i.r)j=i.r-this.r;if(this.t<i.t){k=i.t-this.t;}else if(this.b>i.b)k=i.b-this.b;return this.add(j,k);};h.prototype.getCenter=function(){'use strict';return new (c('Vector'))(this.l+this.w()/2,this.t+this.h()/2,this.domain);};h.prototype.getTop=function(){'use strict';return this.t;};h.prototype.getLeft=function(){'use strict';return this.l;};h.prototype.getPositionVector=function(){'use strict';return new (c('Vector'))(this.l,this.t,this.domain);};h.prototype.getDimensionVector=function(){'use strict';return new (c('Vector'))(this.w(),this.h(),'pure');};h.prototype.convertTo=function(i){'use strict';if(this.domain==i)return this;if(i=='pure')return new h(this.t,this.r,this.b,this.l,'pure');if(this.domain=='pure')return new h(0,0,0,0);var j=new (c('Vector'))(this.l,this.t,this.domain).convertTo(i);return new h(j.y,j.x+this.w(),j.y+this.h(),j.x,i);};h.deserialize=function(i){'use strict';var j=i.split(':');return new h(parseFloat(j[1]),parseFloat(j[2]),parseFloat(j[3]),parseFloat(j[0]));};h.newFromVectors=function(i,j){'use strict';return new h(i.y,i.x+j.x,i.y+j.y,i.x,i.domain);};h.getElementBounds=function(i){'use strict';return h.newFromVectors(c('Vector').getElementPosition(i),c('Vector').getElementDimensions(i));};h.getViewportBounds=function(){'use strict';return h.newFromVectors(c('Vector').getScrollPosition(),c('Vector').getViewportDimensions());};h.getViewportWithoutScrollbarsBounds=function(){'use strict';return h.newFromVectors(c('Vector').getScrollPosition(),c('Vector').getViewportWithoutScrollbarDimensions());};h.minimumBoundingBox=function(i){'use strict';var j=new h(Math.min(),Math.max(),Math.max(),Math.min()),k;for(var l=0;l<i.length;l++){k=i[l];j.t=Math.min(j.t,k.t);j.r=Math.max(j.r,k.r);j.b=Math.max(j.b,k.b);j.l=Math.min(j.l,k.l);}return j;};f.exports=h;},null);
__d("SVGChecker",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={isSVG:function(h){return !!h.ownerSVGElement||h.tagName.toLowerCase()==="svg";},isDisplayed:function(h){try{var j=h.getBBox();if(j&&(j.height===0||j.width===0))return false;}catch(i){return false;}return true;}};},null);
__d('getOverlayZIndex',['Style'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){j=j||document.body;var k=[];while(i&&i!==j){k.push(i);i=i.parentNode;}if(i!==j)return 0;for(var l=k.length-1;l>=0;l--){var m=k[l];if(c('Style').get(m,'position')!='static'){var n=parseInt(c('Style').get(m,'z-index'),10);if(!isNaN(n))return n;}}return 0;}f.exports=h;},null);
__d('ContextualLayer',['Arbiter','ARIA','ContextualThing','CSS','DataStore','DOM','Event','Layer','LayerHideOnTransition','Locale','Parent','Rect','Scroll','Style','SVGChecker','Vector','arrayContains','containsNode','emptyFunction','getOwnObjectValues','getOffsetParent','getOverlayZIndex','isElementNode','removeFromArray','throttle'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();function j(p){return p.getPosition()==='left'||p.isVertical()&&p.getAlignment()==='right';}h=babelHelpers.inherits(k,c('Layer'));i=h&&h.prototype;k.prototype._configure=function(p,q){'use strict';i._configure.call(this,p,q);if(p.shouldSetARIAProperties===false)this._shouldSetARIAProperties=p.shouldSetARIAProperties;if(p.context){this.setContext(p.context);}else if(p.contextID){this._setContextID(p.contextID);}else if(p.contextSelector)this._setContextSelector(p.contextSelector);this.setPosition(p.position);this.setAlignment(p.alignment);this.setOffsetX(p.offsetX);this.setOffsetY(p.offsetY);this.setArrowDimensions(p.arrowDimensions);this._content=q;};k.prototype._getDefaultBehaviors=function(){'use strict';var p=k.getDefaultBehaviorsAsObject();return i._getDefaultBehaviors.call(this).concat(c('getOwnObjectValues')(p));};k.prototype._buildWrapper=function(p,q){'use strict';this._contentWrapper=c('DOM').create('div',{className:'uiContextualLayer'},q);return c('DOM').create('div',{className:'uiContextualLayerPositioner'},this._contentWrapper);};k.prototype.getInsertParent=function(){'use strict';var p=this._insertParent;if(!p){var q=this.getContext();if(q)p=c('Parent').byClass(q,'uiContextualLayerParent');}return p||i.getInsertParent.call(this);};k.prototype.setContent=function(p){'use strict';this._content=p;c('DOM').setContent(this._contentWrapper,this._content);this._shown&&this.updatePosition();return this;};k.prototype.setContext=function(p){'use strict';return this.setContextWithBounds(p,null);};k.prototype.setContextWithBounds=function(p,q){'use strict';if(this._contextNode===p&&q&&this._contextBounds&&q.isEqualTo(this._contextBounds))return this;this._contextNode=p;var r=q&&this._contextBounds&&q.t===this._contextBounds.t&&q.r===this._contextBounds.r&&q.b===this._contextBounds.b&&q.l===this._contextBounds.l;if(r)return this;this._contextBounds=q||null;this._contextSelector=this._contextScrollParent=null;if(this._shown){c('ContextualThing').register(this.getRoot(),this._contextNode);this.updatePosition();}this._setParentSubscription();this.setARIAProperties();return this;};k.prototype.shouldSetARIAProperties=function(p){'use strict';this._shouldSetARIAProperties=p;return this;};k.prototype.setARIAProperties=function(){'use strict';if(this._shouldSetARIAProperties)c('ARIA').setPopup(this.getCausalElement(),this.getRoot());return this;};k.prototype._setContextID=function(p){'use strict';this._contextSelector='#'+p;this._contextNode=null;};k.prototype._setContextSelector=function(p){'use strict';this._contextSelector=p;this._contextNode=null;};k.prototype.getCausalElement=function(){'use strict';return i.getCausalElement.call(this)||this.getContext();};k.prototype._setParentSubscription=function(){'use strict';var p=this.getContext(),q=null;while(p!==null){q=c('DataStore').get(p,'layer');if(q)break;p=p.parentNode;}if(q===this._parentLayer)return;if(this._parentLayer&&this._parentSubscription){this._parentLayer.unsubscribe(this._parentSubscription);this._parentSubscription=null;}if(q)this._parentSubscription=q.subscribe('hide',this.hide.bind(this));this._parentLayer=q;};k.prototype.setPosition=function(p){'use strict';if(this.getOrientation().setDefaultPosition(p))this._shown&&this.updatePosition();return this;};k.prototype.setAlignment=function(p){'use strict';if(this.getOrientation().setDefaultAlignment(p))this._shown&&this.updatePosition();return this;};k.prototype.setOffsetX=function(p){'use strict';if(this.getOrientation().setDefaultOffsetX(p))this._shown&&this.updatePosition();return this;};k.prototype.setArrowDimensions=function(p){'use strict';if(p&&this.getOrientation().setArrowOffset(p.offset))this._shown&&this.updatePosition();return this;};k.prototype.setOffsetY=function(p){'use strict';if(this.getOrientation().setDefaultOffsetY(p))this._shown&&this.updatePosition();return this;};k.prototype.getPosition=function(){'use strict';return this.getOrientation().getPosition();};k.prototype.getOrientation=function(){'use strict';if(!this._orientation)this._orientation=new o();return this._orientation;};k.prototype.getContentRoot=function(){'use strict';return this._contentWrapper;};k.prototype.getContent=function(){'use strict';return this._content;};k.prototype.getContext=function(){'use strict';if(!this._contextNode)this._contextNode=c('DOM').find(document,this._contextSelector);return this._contextNode;};k.prototype.getContextBounds=function(p){'use strict';if(this._contextBounds)return this._contextBounds.convertTo(p);var q=this.getContext();return c('Rect').newFromVectors(c('Vector').getElementPosition(q,p),c('Vector').getElementDimensions(q));};k.prototype.getContextScrollParent=function(){'use strict';if(!this._contextScrollParent){this._contextScrollParent=c('Style').getScrollParent(this.getContext());}else if(c('isElementNode')(this._contextScrollParent)&&!c('containsNode')(document.documentElement,this._contextScrollParent))this._contextScrollParent=c('Style').getScrollParent(this.getContext());return this._contextScrollParent;};k.prototype.setInsertParent=function(p){'use strict';this._insertScrollParent=null;return i.setInsertParent.call(this,p);};k.prototype.getInsertScrollParent=function(){'use strict';if(!this._insertScrollParent)this._insertScrollParent=c('Style').getScrollParent(this.getInsertParent());return this._insertScrollParent;};k.prototype.show=function(){'use strict';if(this._shown)return this;i.show.call(this);if(this._shown){c('ContextualThing').register(this.getRoot(),this.getContext());l.push(this);this._resizeListener=this._resizeListener||c('Event').listen(window,'resize',c('throttle')(function(){if(this._shown)this.updatePosition();}.bind(this)));}return this;};k.prototype.finishHide=function(){'use strict';c('removeFromArray')(l,this);this._resizeListener&&this._resizeListener.remove();this._resizeListener=null;this._insertScrollParent=null;return i.finishHide.call(this);};k.prototype.isFixed=function(){'use strict';return (c('Style').isFixed(this.getContext())&&!c('Style').isFixed(this.getInsertParent()));};k.prototype.updatePosition=function(){'use strict';var p=this.getContext();if(!p)return false;var q=this.isFixed();if(!q&&!(p.offsetParent||c('SVGChecker').isSVG(p)&&c('SVGChecker').isDisplayed(p)))return false;var r=this.getRoot();c('Style').set(r,'width',c('Vector').getViewportDimensions().x+'px');var s=this.getOrientation();this.inform('adjust',s.reset());if(!s.isValid())return false;this._updateWrapperPosition(s);this._updateWrapperClass(s);c('CSS').conditionClass(r,'uiContextualLayerPositionerFixed',q);var t,u,v=q?'viewport':'document',w=q?document.documentElement:c('getOffsetParent')(r);if(w===document.documentElement){t=new (c('Vector'))(0,0);u=document.documentElement.clientWidth;}else if(!r.offsetParent){return false;}else{t=c('Vector').getElementPosition(w,v);u=w.offsetWidth;if(w!==document.body)t=t.sub(new (c('Vector'))(c('Scroll').getLeft(w),c('Scroll').getTop(w)));}var x=this.getContextBounds(v),y=x.l-t.x,z=x.t-t.y,aa=x.h(),ba=x.w(),ca=c('Locale').isRTL();if(s.getPosition()==='below')z+=aa;if((s.getPosition()==='right'||s.isVertical()&&s.getAlignment()==='right')!=ca)y+=ba;var da=s.getOffsetX();if(s.isVertical()&&s.getAlignment()==='center')da+=(ba-this.getContentRoot().offsetWidth)/2;if(ca)da*=-1;var ea='left',fa=Math.floor(y+da);if(j(s)!==ca){ea='right';fa=u-fa;}c('Style').set(r,ea,fa+'px');c('Style').set(r,ea==='left'?'right':'left','');var ga=this.getInsertScrollParent(),ha;if(ga!==window){ha=ga.clientWidth;}else ha=document.documentElement.clientWidth;var ia=c('Vector').getElementPosition(r).x;if(ea==='left'&&ha-ia>0){c('Style').set(r,'width',ha-ia+'px');}else if(ea==='right'&&ia+r.offsetWidth>0){c('Style').set(r,'width',ia+r.offsetWidth+'px');}else c('Style').set(r,'width','');c('Style').set(r,'top',z+s.getOffsetY()+'px');var ja=c('getOverlayZIndex')(p,this.getInsertParent());c('Style').set(r,'z-index',ja>200?ja:'');this.inform('reposition',s);return true;};k.prototype._updateWrapperPosition=function(p){'use strict';var q=p.getPosition()==='above';c('Style').set(this._contentWrapper,'bottom',q?'0':null);var r=c('Locale').isRTL()?'left':'right',s=j(p);c('Style').set(this._contentWrapper,r,s?'0':null);};k.prototype._updateWrapperClass=function(p){'use strict';var q=p.getClassName();if(q===this._orientationClass)return;if(this._orientationClass)c('CSS').removeClass(this._contentWrapper,this._orientationClass);this._orientationClass=q;c('CSS').addClass(this._contentWrapper,q);};k.prototype.simulateOrientation=function(p,q){'use strict';var r=p.getClassName();if(r===this._orientationClass){return q();}else{if(this._orientationClass)c('CSS').removeClass(this._contentWrapper,this._orientationClass);c('CSS').addClass(this._contentWrapper,r);var s=q();c('CSS').removeClass(this._contentWrapper,r);if(this._orientationClass)c('CSS').addClass(this._contentWrapper,this._orientationClass);return s;}};k.prototype.destroy=function(){'use strict';i.destroy.call(this);this._contentWrapper=null;this._content=null;return this;};k.prototype.getArrowDimensions=function(){'use strict';return this._config.arrowDimensions||{offset:0,length:0};};k.getDefaultBehaviorsAsObject=function(){'use strict';return {LayerHideOnTransition:c('LayerHideOnTransition')};};function k(){'use strict';h.apply(this,arguments);}var l=[];c('Arbiter').subscribe('reflow',function(){l.forEach(function(p){if(p.updatePosition()===false)p.hide();});});Object.assign(k.prototype,{_contentWrapper:null,_content:null,_contextNode:null,_contextBounds:null,_contextSelector:null,_parentLayer:null,_parentSubscription:null,_orientation:null,_orientationClass:null,_shouldSetARIAProperties:true});var m=c('emptyFunction').thatReturnsArgument,n=c('emptyFunction').thatReturnsArgument;function o(){'use strict';this._default={_position:'above',_alignment:'left',_offsetX:0,_offsetY:0,_valid:true};this.reset();}o.prototype.setPosition=function(p){'use strict';this._position=m(p);return this;};o.prototype.setAlignment=function(p){'use strict';this._alignment=n(p);return this;};o.prototype.getOppositePosition=function(){'use strict';return o.OPPOSITE[this.getPosition()];};o.prototype.invalidate=function(){'use strict';this._valid=false;return this;};o.prototype.getPosition=function(){'use strict';return this._position||'above';};o.prototype.getAlignment=function(){'use strict';return this._alignment||'left';};o.prototype.getOffsetX=function(){'use strict';var p=this._offsetX||0;if(!this.isVertical()){if(this._default._position!==this._position)p*=-1;}else if(this._default._alignment!==this._alignment)p*=-1;return p;};o.prototype.getOffsetY=function(){'use strict';var p=this._offsetY||0;if(this.isVertical()&&this._default._position!==this._position)p*=-1;return p;};o.prototype.getClassName=function(){'use strict';var p=this.getAlignment(),q=this.getPosition();if(q==='below'){if(p==='left'){return 'uiContextualLayerBelowLeft';}else if(p==='right'){return 'uiContextualLayerBelowRight';}else return 'uiContextualLayerBelowCenter';}else if(q==='above'){if(p==='left'){return 'uiContextualLayerAboveLeft';}else if(p==='right'){return 'uiContextualLayerAboveRight';}else return 'uiContextualLayerAboveCenter';}else if(q==='left'){return 'uiContextualLayerLeft';}else return 'uiContextualLayerRight';};o.prototype.isValid=function(){'use strict';return this._valid;};o.prototype.isVertical=function(){'use strict';return this.getPosition()==='above'||this.getPosition()==='below';};o.prototype.reset=function(){'use strict';Object.assign(this,this._default);return this;};o.prototype.setDefaultPosition=function(p){'use strict';var q=this._default._position;this._default._position=m(p);return q!==p;};o.prototype.setDefaultAlignment=function(p){'use strict';var q=this._default._alignment;this._default._alignment=n(p);return q!==p;};o.prototype.setDefaultOffsetX=function(p){'use strict';var q=this._default._offsetX;this._default._offsetX=p;return q!==p;};o.prototype.setArrowOffset=function(p){'use strict';var q=this._default._arrowOffset;this._default._arrowOffset=p;return q!==p;};o.prototype.getArrowOffset=function(){'use strict';return this._default._arrowOffset||0;};o.prototype.setDefaultOffsetY=function(p){'use strict';var q=this._default._offsetY;this._default._offsetY=p;return q!==p;};o.OPPOSITE={above:'below',below:'above',left:'right',right:'left'};f.exports=k;},null);
__d('ViewportBounds',['Arbiter','ArbiterMixin','BlueBar','PageEvents','Vector','emptyFunction','removeFromArray'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={top:[],right:[],bottom:[],left:[]};function i(m){return function(){return (h[m].reduce(function(n,o){return (Math.max(n,o.getSize()));},0));};}function j(m,n){return function(o){return new k(m,o,n);};}function k(m,n){var o=arguments.length<=2||arguments[2]===undefined?false:arguments[2];'use strict';this.getSide=c('emptyFunction').thatReturns(m);this.getSize=function(){return typeof n==='function'?n():n;};this.isPersistent=c('emptyFunction').thatReturns(o);h[m].push(this);l.inform('change');}k.prototype.remove=function(){'use strict';c('removeFromArray')(h[this.getSide()],this);l.inform('change');};c('Arbiter').subscribe(c('PageEvents').AJAXPIPE_ONUNLOAD,function(){['top','right','bottom','left'].forEach(function(m){var n=h[m];for(var o=n.length-1;o>=0;o--){var p=n[o];if(!p.isPersistent())p.remove();}});});var l=babelHelpers['extends']({},c('ArbiterMixin'),{getTop:i('top'),getRight:i('right'),getBottom:i('bottom'),getLeft:i('left'),getElementPosition:function(m){var n=c('Vector').getElementPosition(m);n.y-=l.getTop();return n;},addTop:j('top'),addRight:j('right'),addBottom:j('bottom'),addLeft:j('left'),addPersistentTop:j('top',true),addPersistentRight:j('right',true),addPersistentBottom:j('bottom',true),addPersistentLeft:j('left',true)});l.addPersistentTop(function(){if(c('BlueBar').hasFixedBlueBar()){var m=c('BlueBar').getMaybeFixedRoot();return m?m.offsetHeight:0;}return 0;});f.exports=l;},null);
__d('LayerBounds',['Locale','Rect','ViewportBounds','containsNode','ge','getOverlayZIndex'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={getViewportRectForContext:function(i){var j=c('ge')('globalContainer'),k=j&&c('containsNode')(j,i)||c('getOverlayZIndex')(i)<300,l=c('Rect').getViewportWithoutScrollbarsBounds();if(k){l.t+=c('ViewportBounds').getTop();if(c('Locale').isRTL()){l.r-=c('ViewportBounds').getLeft();l.l+=c('ViewportBounds').getRight();}else{l.r-=c('ViewportBounds').getRight();l.l+=c('ViewportBounds').getLeft();}}return l;}};f.exports=h;},null);
__d('ContextualLayerDimensions',['LayerBounds','Locale','Rect','Vector','ViewportBounds'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={getViewportRect:function(i){return c('LayerBounds').getViewportRectForContext(i.getContext());},getLayerRect:function(i,j){var k=i.getContextBounds('viewport'),l=i.simulateOrientation(j,function(){return c('Vector').getElementDimensions(i.getContentRoot());}),m=k.t+j.getOffsetY();if(j.getPosition()==='above'){m-=l.y;}else if(j.getPosition()==='below')m+=k.b-k.t;var n=k.l+j.getOffsetX(),o=k.r-k.l;if(j.isVertical()){var p=j.getAlignment();if(p==='center'){n+=(o-l.x)/2;}else if(p==='right'!==c('Locale').isRTL()){n+=o-l.x+j.getArrowOffset();}else n-=j.getArrowOffset();}else if(j.getPosition()==='right'!==c('Locale').isRTL()){n+=o;}else n-=l.x;return new (c('Rect'))(m,n+l.x,m+l.y,n,'viewport');}};f.exports=h;},null);
__d('ContextualLayerAutoFlip',['ContextualLayerDimensions','Vector','Rect','arrayContains','getDocumentScrollElement'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j,k){k=new (c('Rect'))(k).convertTo(j.domain);var l=Math.max(j.l,k.l),m=Math.min(j.r,k.r);return Math.max(m-l,0);}function i(j){'use strict';this._layer=j;}i.prototype.enable=function(){'use strict';this._subscription=this._layer.subscribe('adjust',this._adjustOrientation.bind(this));if(this._layer.isShown())this._layer.updatePosition();};i.prototype.disable=function(){'use strict';this._subscription.unsubscribe();this._subscription=null;if(this._layer.isShown())this._layer.updatePosition();};i.prototype._adjustOrientation=function(j,k){'use strict';var l=this.getValidPositions(k);if(!l.length){k.invalidate();return;}var m=c('ContextualLayerDimensions').getViewportRect(this._layer),n=this._getValidAlignments(k),o,p,q;for(o=0;o<n.length;o++){k.setAlignment(n[o]);for(p=0;p<l.length;p++){k.setPosition(l[p]);q=c('ContextualLayerDimensions').getLayerRect(this._layer,k);if(m.contains(q))return;}}k.setPosition(c('arrayContains')(l,'below')?'below':l[0]);var r,s=0,t=0;for(o=0;o<n.length;o++){k.setAlignment(n[o]);q=c('ContextualLayerDimensions').getLayerRect(this._layer,k);r=h(m,q);if(r>t){t=r;s=o;}}k.setAlignment(n[s]);};i.prototype.getValidPositions=function(j){'use strict';var k=[j.getPosition(),j.getOppositePosition()],l=this._layer.getContextScrollParent();if(l===window||l===c('getDocumentScrollElement')())return k;var m=this._layer.getContext(),n=c('Vector').getElementPosition(l,'viewport').y,o=c('Vector').getElementPosition(m,'viewport').y;if(j.isVertical()){return k.filter(function(q){if(q==='above'){return o>=n;}else{var r=n+l.offsetHeight,s=o+m.offsetHeight;return s<=r;}});}else{var p=n+l.offsetHeight;if(o>=n&&o+m.offsetHeight<=p){return k;}else return [];}};i.prototype._getValidAlignments=function(j){'use strict';var k=['left','right','center'],l=j.getAlignment(),m=k.indexOf(l);if(m>0){k.splice(m,1);k.unshift(l);}return k;};Object.assign(i.prototype,{_subscription:null});f.exports=i;},null);
__d('ContextualLayerHideOnScroll',['Event'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this._layer=i;}h.prototype.enable=function(){'use strict';this._subscriptions=[this._layer.subscribe('contextchange',this._handleContextChange.bind(this)),this._layer.subscribe('show',this.attach.bind(this)),this._layer.subscribe('hide',this.detach.bind(this))];};h.prototype.disable=function(){'use strict';while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this.detach();};h.prototype.attach=function(){'use strict';if(this._listener)return;var i=this._layer.getContextScrollParent();if(i===window)return;this._listener=c('Event').listen(i,'scroll',this._layer.hide.bind(this._layer));};h.prototype.detach=function(){'use strict';this._listener&&this._listener.remove();this._listener=null;};h.prototype._handleContextChange=function(){'use strict';this.detach();if(this._layer.isShown())this.attach();};Object.assign(h.prototype,{_subscriptions:[]});f.exports=h;},null);
__d('ContextualTypeaheadView',['BucketedTypeaheadView','CSS','ContextualLayer','ContextualLayerAutoFlip','ContextualLayerHideOnScroll','DOM','DOMDimensions','Style'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('BucketedTypeaheadView'));i=h&&h.prototype;j.prototype.init=function(){'use strict';this.initializeLayer();i.init.call(this);};j.prototype.initializeLayer=function(){'use strict';this.context=this.getContext();this.wrapper=c('DOM').create('div');c('DOM').appendContent(this.wrapper,this.element);c('CSS').addClass(this.element,'uiContextualTypeaheadView');this.layer=new (c('ContextualLayer'))({context:this.context,position:'below',alignment:this.alignment,causalElement:this.causalElement,permanent:true,shouldSetARIAProperties:false},this.wrapper);this.layer.enableBehavior(c('ContextualLayerHideOnScroll'));if(c('Style').isFixed(this.context)||this.autoflip)this.layer.enableBehavior(c('ContextualLayerAutoFlip'));this.subscribe('render',this.renderLayer.bind(this));};j.prototype.show=function(){'use strict';if(this.minWidth){c('Style').set(this.wrapper,'min-width',this.minWidth+'px');}else if(this.width){c('Style').set(this.wrapper,'width',this.width+'px');}else c('Style').set(this.wrapper,'width',c('DOMDimensions').getElementDimensions(this.context).width+'px');var k=i.show.call(this);this.layer.show();this.inform('show');return k;};j.prototype.hide=function(){'use strict';this.layer.hide();this.inform('hide');return i.hide.call(this);};j.prototype.renderLayer=function(){'use strict';if(!this.isVisible())return;if(this.layer.isShown()){this.layer.updatePosition();}else this.layer.show();};j.prototype.clearText=function(){'use strict';this.layer.getCausalElement().value='';};j.prototype.getContext=function(){'use strict';return this.element.parentNode;};function j(){'use strict';h.apply(this,arguments);}f.exports=j;},null);
__d('DataSource',['ArbiterMixin','AsyncRequest','TokenizeUtil','SearchI18nMatch','createArrayFromMixed','createObjectFrom','emptyFunction','mixin','str2rstr','Map'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this);this._maxResults=k.maxResults||10;this.token=k.token;this.queryData=k.queryData||{};this.queryEndpoint=k.queryEndpoint||'';this.bootstrapData=k.bootstrapData||{};this.bootstrapEndpoint=k.bootstrapEndpoint||'';this.globalKeywordsEndpoint=k.globalKeywordsEndpoint||'';this._indexedFields=k.indexedFields||['text','tokens'];this._titleFields=k.titleFields||[];this._alwaysPrefixMatch=k.alwaysPrefixMatch||false;this._deduplicationKey=k.deduplicationKey||null;this._enabledLocalCache=k.enabledLocalCache!=null?k.enabledLocalCache:true;this._enabledQueryCache=k.enabledQueryCache!=null?k.enabledQueryCache:true;this._disableAllCaches=k.disableAllCaches!=null?k.disableAllCaches:false;this._enabledMergeUids=k.enabledMergeUids!=null?k.enabledMergeUids:false;this._queryExactMatch=k.queryExactMatch||false;this._acrossTransitions=k.acrossTransitions||false;this._minQueryLength=k.minQueryLength||-1;this._enforceNewRequestIDUponFetch=k.enforceNewRequestIDUponFetch||false;this._minExactMatchLength=4;this._filters=[];this._headerflags=k.headerflags||new (c('Map'))();this.setExclusions(k.exclusions);this.backendUnicodeMatch=new (c('SearchI18nMatch'))({prefix_kana_hiragana_to_katakana:!!k.kanaNormalization});this.cacheUnicodeMatch=new (c('SearchI18nMatch'))({prefix_kana_hiragana_to_katakana:!!k.kanaNormalization});}j.prototype.init=function(){'use strict';this.init=c('emptyFunction');this._fields=c('createObjectFrom')(this._indexedFields);this._activeQueries=0;this.dirty();};j.prototype.dirty=function(){'use strict';this.value='';this._bootstrapped=false;this._bootstrapping=false;this._data={};this.localCache={};this.queryCache={};this.queryIDs={};this.inform('dirty',{});return this;};j.prototype.bootstrap=function(){var k=arguments.length<=0||arguments[0]===undefined?false:arguments[0];'use strict';if(this._bootstrapped&&!k)return;this.bootstrapWithoutToken();this._bootstrapped=true;this._bootstrapping=true;this.inform('bootstrap',{bootstrapping:true});};j.prototype.bootstrapWithoutToken=function(){'use strict';this.fetch(this.bootstrapEndpoint,this.bootstrapData,{bootstrap:true,token:this.token});};j.prototype.bootstrapWithToken=function(){'use strict';var k=babelHelpers['extends']({},this.bootstrapData);k.token=this.token;this.fetch(this.bootstrapEndpoint,k,{bootstrap:true,replaceCache:true,value:''});};j.prototype.query=function(k,l,m,n,o){'use strict';this.inform('beforeQuery',babelHelpers['extends']({value:k,local_only:l,exclusions:m,time_waited:n},o));var p=Date.now();if(this._disableAllCaches){this.dirty();if(!k){this.bootstrap();return true;}}else if(!this._enabledQueryCache){this.queryCache={};this.queryIDs={};}var q=this.buildUids(k,[],m),r=this.respond(k,q);this.value=k;this.inform('query',babelHelpers['extends']({value:k,results:r},o));var s=this.tokenizeBackend(k).flatValue;if(l||!s||this._isQueryTooShort(s)||!this.queryEndpoint||this.getQueryCache().hasOwnProperty(s)||!this.shouldFetchMoreResults(r)){this.inform('logPerformanceTiming',babelHelpers['extends']({field:'cache_keypress_render',value:Date.now()-p},o));this.inform('completeCacheFetch');return false;}this.inform('queryEndpoint',babelHelpers['extends']({value:k},o));this.fetch(this.queryEndpoint,this.getQueryData(k,q),babelHelpers['extends']({value:k,exclusions:m},o));return true;};j.prototype._isQueryTooShort=function(k){'use strict';return k.length<this._minQueryLength;};j.prototype._tokenize=function(k,l){'use strict';return c('TokenizeUtil').parse(k,l);};j.prototype.tokenizeBackend=function(k,l){'use strict';k=this.backendUnicodeMatch.prefixMatchPrepare(k);return this._tokenize(k,l);};j.prototype.tokenizeCache=function(k,l){'use strict';k=this.cacheUnicodeMatch.prefixMatchPrepare(k);return this._tokenize(k,l);};j.prototype.shouldFetchMoreResults=function(k){'use strict';return k.length<this._maxResults;};j.prototype.getQueryData=function(k,l){'use strict';var m=babelHelpers['extends']({value:k},this.queryData);l=l||[];if(l.length)m.existing_ids=l.join(',');if(this._bootstrapping)m.bsp=true;return m;};j.prototype.setQueryData=function(k,l){'use strict';if(l)this.queryData={};Object.assign(this.queryData,k);return this;};j.prototype.setBootstrapData=function(k,l){'use strict';if(l)this.bootstrapData={};Object.assign(this.bootstrapData,k);return this;};j.prototype.getExclusions=function(){'use strict';return c('createArrayFromMixed')(this._exclusions);};j.prototype.setExclusions=function(k){'use strict';this._exclusions=k?k.map(String):[];};j.prototype.addFilter=function(k){'use strict';var l=this._filters;l.push(k);return {remove:function(){l.splice(l.indexOf(k),1);}};};j.prototype.clearFilters=function(){'use strict';this._filters=[];};j.prototype.notify=function(k,l,m,n){'use strict';var o=this.buildData(l);this.inform('notify',{value:k,results:o,isAsync:!!m,rootid:n});return o;};j.prototype.respond=function(k,l,m){'use strict';var n=this.buildData(l);this.processResults(k,n,m);this.inform('respond',{value:k,results:n,isAsync:!!m});return n;};j.prototype.respondWithResults=function(k,l,m){'use strict';this.processResults(k,l,m);this.inform('respond',{value:k,results:l,isAsync:!!m});return l;};j.prototype.processResults=function(k,l,m){'use strict';if(this.bootstrapData.alwaysShowEcho){var n=-1;for(var o=0;o<l.length;++o)if(l[o].text.toLowerCase()===k.toLowerCase()){n=o;break;}var p={};if(n===-1){p={bootstrapped:false,index:0,query:k,render_type:'hashtag',text:k,type:'hashtag',uid:this.getUniqueID()};l.map(function(q){q.index+=1;});l.unshift(p);}else if(n>0){p=l.splice(n,1)[0];l.unshift(p);l.map(function(q,r){q.index=r;});}}};j.prototype.getUniqueID=function(){'use strict';var k='_'+Math.random().toString(36).substr(2,9);while(this._data[k]!==undefined)k='_'+Math.random().toString(36).substr(2,9);return k;};j.prototype.fetch=function(k,l,m){'use strict';if(!k)return;if(this._enforceNewRequestIDUponFetch||l.request_id===undefined){l.request_id=this._guid();m.request_id=l.request_id;}var n=new (c('AsyncRequest'))().setURI(k).setData(l).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(this._acrossTransitions).setHandler(function(v){this.fetchHandler(v,m||{});}.bind(this));if(k===this.queryEndpoint){for(var o=this._headerflags,p=Array.isArray(o),q=0,o=p?o:o[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var r;if(p){if(q>=o.length)break;r=o[q++];}else{q=o.next();if(q.done)break;r=q.value;}var s=r,t=s[0],u=s[1];n.setRequestHeader(t,u);}n.setFinallyHandler(function(){this._activeQueries--;if(!this._activeQueries)this.inform('activity',{activity:false});}.bind(this));}n.setErrorHandler(function(v){return this.asyncErrorHandler(v,m);}.bind(this));this.inform('beforeFetch',{request:n,fetch_context:m});n.send();if(k===this.queryEndpoint){if(!this._activeQueries)this.inform('activity',{activity:true});this._activeQueries++;}};j.prototype.fetchHandler=function(k,l){'use strict';var m=l.value,n=l.exclusions;if(k.getPayload().requestID!==undefined)l.request_id=k.getPayload().requestID;var o=this.getQueryIDs(),p=this.tokenizeBackend(m||'').flatValue;o[p]=l.request_id;if(!m&&l.replaceCache)this.localCache={};this.inform('buildQueryCache',{});var q=k.getPayload().entries;this.addEntries(q,m);this.inform('fetchComplete',{entries:q,response:k,value:m,fetch_context:l});var r=!m&&this.value?this.value:m;this.respond(r,this.buildUids(r,[],n),true);if(!m){if(this._bootstrapping){this._bootstrapping=false;this.inform('bootstrap',{bootstrapping:false});}if(l.token&&k.getPayload().token!==l.token)this.bootstrapWithToken();}};j.prototype.addEntries=function(k,l){'use strict';var m=this.processEntries(c('createArrayFromMixed')(k||[]),l),n=m;if(this._enabledMergeUids)n=this.buildUids(l,m);if(l){var o=this.getQueryCache(),p=this.tokenizeBackend(l).flatValue;o[p]=n;}else this.fillCache(n);return m;};j.prototype.processEntries=function(k,l){'use strict';return k.map(function(m,n){var o=m.uid=m.uid+'',p=this.getEntry(o);if(!p){p=m;p.query=l;p.bootstrapped=!l;this.setEntry(o,p);}else Object.assign(p,m);this.processEntry(p,l);p.index===undefined&&(p.index=n);return o;},this);};j.prototype.processEntry=function(k,l){'use strict';};j.prototype.getAllEntries=function(){'use strict';return this._data||{};};j.prototype.getEntry=function(k){'use strict';return this._data[k]||null;};j.prototype.setEntry=function(k,l){'use strict';this._data[k]=l;};j.prototype.fillCache=function(k){'use strict';if(!this._enabledLocalCache)return;var l=this.localCache;k.forEach(function(m){var n=this.getEntry(m);if(!n)return;var o=this.tokenizeCache(this.getTextToIndex(n)).tokens;for(var p=0,q=o.length;p<q;++p){var r=o[p];if(!l.hasOwnProperty(r))l[r]={};l[r][m]=true;}},this);};j.prototype.getTextToIndex=function(k){'use strict';if(k.textToIndex&&!k.needs_update)return k.textToIndex;k.needs_update=false;k.textToIndex=this.getTextToIndexFromFields(k,this._indexedFields);return k.textToIndex;};j.prototype.getTextToIndexFromFields=function(k,l){'use strict';var m=[];for(var n=0;n<l.length;++n){var o=k[l[n]];if(o)m.push(o.join?o.join(' '):o);}return m.join(' ');};j.prototype.mergeUids=function(k,l,m,n){'use strict';this.inform('mergeUids',{local_uids:k,query_uids:l,new_uids:m,value:n});this._checkExtendedMatch(n,k);return this.deduplicateByKey(k.sort(this.bootstrapSort.bind(this)).concat(l,m));};j.prototype.bootstrapSort=function(k,l){'use strict';var m=this.getEntry(k),n=this.getEntry(l);if(m.extended_match!==n.extended_match)return m.extended_match?1:-1;if(m.index!==n.index)return m.index-n.index;if(m.text.length!==n.text.length)return m.text.length-n.text.length;if(m.text===n.text)return m.uid<n.uid?-1:1;return m.text<n.text?-1:1;};j.prototype._checkExtendedMatch=function(k,l){'use strict';var m=this._alwaysPrefixMatch?c('TokenizeUtil').isPrefixMatch:c('TokenizeUtil').isQueryMatch;for(var n=0;n<l.length;++n){var o=this.getEntry(l[n]);o.extended_match=o.tokens?!m(k,o.text):false;}};j.prototype.buildUids=function(k,l,m){'use strict';if(!l)l=[];if(!k)return l;if(!m)m=[];var n=this.buildCacheResults(k,this.localCache),o=this.buildQueryResults(k),p=this.mergeUids(n,o,l,k),q=c('createObjectFrom')(m.concat(this._exclusions)),r=p.filter(function(s){if(q.hasOwnProperty(s)||!this.getEntry(s))return false;for(var t=0;t<this._filters.length;++t)if(!this._filters[t](this.getEntry(s),k))return false;return q[s]=true;},this);return this.uidsIncludingExact(k,r);};j.prototype.uidsIncludingExact=function(k,l){'use strict';var m=l.length;if(m<=this._maxResults||c('str2rstr')(k).length<this._minExactMatchLength)return l;for(var n=0;n<m;++n){var o=this.getEntry(l[n]);o.text_lower||(o.text_lower=o.text.toLowerCase());if(o.text_lower===this.tokenizeCache(k).flatValue){if(n>=this._maxResults){var p=l.splice(n,1)[0];l.splice(this._maxResults-1,0,p);}break;}}return l;};j.prototype.buildData=function(k){'use strict';var l=[],m=Math.min(k.length,this._maxResults);for(var n=0;n<m;++n)l.push(this.getEntry(k[n]));return l;};j.prototype.findBestPreviousQuery=function(k,l){'use strict';var m=0,n=null;if(this._queryExactMatch)return l.hasOwnProperty(k)?k:null;for(var o in l)if(k.indexOf(o)===0&&o.length>m){m=o.length;n=o;}return n;};j.prototype.findQueryCache=function(k){'use strict';var l=this.findBestPreviousQuery(k,this.getQueryCache());return this.getQueryCache()[l]||[];};j.prototype.buildQueryResults=function(k){'use strict';var l=this.tokenizeBackend(k).flatValue,m=this.findQueryCache(l);if(this.getQueryCache().hasOwnProperty(l))return m;var n=this.filterQueryResults(l,m);return n;};j.prototype.filterQueryResults=function(k,l){'use strict';var m=this._alwaysPrefixMatch?c('TokenizeUtil').isPrefixMatch:c('TokenizeUtil').isQueryMatch;return l.filter(function(n){return m(k,this.getTextToIndex(this.getEntry(n)));},this);};j.prototype.buildCacheResults=function(k,l){'use strict';var m=this.tokenizeCache(k,this._alwaysPrefixMatch),n=this._alwaysPrefixMatch?m.sortedTokens:m.tokens,o=n.length,p=m.isPrefixQuery?o-1:null,q={},r={},s={},t=[],u=false,v={},w=0;for(var x=0;x<o;++x){var y=n[x];if(!v.hasOwnProperty(y)){w++;v[y]=true;}else continue;for(var z in l)if(!q.hasOwnProperty(z)&&z===y||(this._alwaysPrefixMatch||p===x)&&this.cacheUnicodeMatch.prefixMatch(z,y)){if(z===y){if(r.hasOwnProperty(z))u=true;q[z]=true;}else{if(q.hasOwnProperty(z)||r.hasOwnProperty(z))u=true;r[z]=true;}for(var aa in l[z])if(x===0||s.hasOwnProperty(aa)&&s[aa]==w-1)s[aa]=w;}}for(var ba in s)if(s[ba]==w)t.push(ba);if(u||w<o)t=this.filterQueryResults(k,t);if(this._titleFields&&this._titleFields.length>0)t=this.filterNonTitleMatchQueryResults(k,t);return t;};j.prototype.filterNonTitleMatchQueryResults=function(k,l){'use strict';return l.filter(function(m){var n=this.tokenizeCache(k),o=n.tokens.length;if(o===0)return true;var p=this.getTitleTerms(this.getEntry(m)),q=n.tokens[0];return o===1||this._alwaysPrefixMatch?c('TokenizeUtil').isPrefixMatch(q,p)||this.cacheUnicodeMatch.prefixMatch(p,q):c('TokenizeUtil').isQueryMatch(q,p);},this);};j.prototype.getTitleTerms=function(k){'use strict';if(!k.titleToIndex)k.titleToIndex=this.getTextToIndexFromFields(k,this._titleFields);return k.titleToIndex;};j.prototype.deduplicateByKey=function(k){'use strict';if(!this._deduplicationKey)return k;var l=c('createObjectFrom')(k.map(this._getDeduplicationKey.bind(this)),k);return k.filter(function(m){return l[this._getDeduplicationKey(m)]==m;}.bind(this));};j.prototype._getDeduplicationKey=function(k){'use strict';var l=this.getEntry(k);if(l[this._deduplicationKey]){return l[this._deduplicationKey]+'';}else return '__'+k+'__';};j.prototype.getQueryCache=function(){'use strict';return this.queryCache;};j.prototype.getQueryIDs=function(){'use strict';return this.queryIDs;};j.prototype.setMaxResults=function(k){'use strict';this._maxResults=k;this.value&&this.respond(this.value,this.buildUids(this.value));};j.prototype.getMaxResults=function(){'use strict';return this._maxResults;};j.prototype.updateToken=function(k){'use strict';this.token=k;this.dirty();return this;};j.prototype._guid=function(){'use strict';var k=Date.now(),l='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(m){var n=Math.floor((k+Math.random()*16)%16);k=Math.floor(k/16);var o=(m=='x'?n:n&7|8).toString(16);return o;});return l;};Object.assign(j.prototype,{events:['bootstrap','query','respond'],asyncErrorHandler:c('emptyFunction')});f.exports=j;},null);
__d('InputSelection',['DOM','Focus'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={get:function(i){try{if(typeof i.selectionStart==='number')return {start:i.selectionStart,end:i.selectionEnd};}catch(j){return {start:0,end:0};}if(!document.selection)return {start:0,end:0};var k=document.selection.createRange();if(k.parentElement()!==i)return {start:0,end:0};var l=i.value.length;if(c('DOM').isNodeOfType(i,'input')){return {start:-k.moveStart('character',-l),end:-k.moveEnd('character',-l)};}else{var m=k.duplicate();m.moveToElementText(i);m.setEndPoint('StartToEnd',k);var n=l-m.text.length;m.setEndPoint('StartToStart',k);return {start:l-m.text.length,end:n};}},set:function(i,j,k){if(typeof k=='undefined')k=j;if(document.selection){if(i.tagName=='TEXTAREA'){var l=(i.value.slice(0,j).match(/\r/g)||[]).length,m=(i.value.slice(j,k).match(/\r/g)||[]).length;j-=l;k-=l+m;}var n=i.createTextRange();n.collapse(true);n.moveStart('character',j);n.moveEnd('character',k-j);n.select();}else{i.selectionStart=j;i.selectionEnd=Math.min(k,i.value.length);c('Focus').set(i);}}};f.exports=h;},null);
__d('Typeahead',['ArbiterMixin','BehaviorsMixin','DataStore','DOM','Event','Parent','Run','Style','emptyFunction','ge','mixin'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('mixin')(c('ArbiterMixin'),c('BehaviorsMixin')));i=h&&h.prototype;function j(k,l,m,n){'use strict';i.constructor.call(this);this.args={data:k,view:l,core:m};c('DataStore').set(n,'Typeahead',this);this.element=n;}j.prototype.init=function(k){'use strict';this.init=c('emptyFunction');this.getCore();this.getView().setAccessibilityControlElement(this.getCore().getElement());this.proxyEvents();this.initBehaviors(k||[]);this.inform('init',this);this.data.bootstrap();this.core.focus();};j.prototype.getData=function(){'use strict';if(!this.data){var k=this.args.data;this.data=k;this.data.init();}return this.data;};j.prototype.getView=function(){'use strict';if(!this.view){var k=this.args.view,l=k.node||c('ge')(k.node_id);if(!l){l=c('DOM').create('div',{className:'uiTypeaheadView'});c('DOM').appendContent(this.element,l);}if(typeof k.ctor==='string'){this.view=new window[k.ctor](l,k.options||{});}else this.view=new k.ctor(l,k.options||{});this.view.init();this.view.setTypeahead(this.element);}return this.view;};j.prototype.getCore=function(){'use strict';if(!this.core){var k=this.args.core;if(typeof k.ctor==='string'){this.core=new window[k.ctor](k.options||{});}else this.core=new k.ctor(k.options||{});this.core.init(this.getData(),this.getView(),this.getElement());}return this.core;};j.prototype.getElement=function(){'use strict';return this.element;};j.prototype.setHeight=function(k){'use strict';if(k!=='auto')k=k+'px';c('Style').set(this.element,'height',k);};j.prototype.swapData=function(k){'use strict';return this.$Typeahead1(k,true);};j.prototype.swapDataNoCoreReset=function(k){'use strict';return this.$Typeahead1(k,false);};j.prototype.$Typeahead1=function(k,l){'use strict';var m=this.core;this.data=this.args.data=k;k.init();if(m){m.data=k;m.initData();if(l)m.reset();this.proxyEvents();}k.bootstrap();return k;};j.prototype.proxyEvents=function(){'use strict';[this.data,this.view,this.core].forEach(function(k){k.subscribe(k.events,this.inform.bind(this));},this);};j.prototype.initBehaviors=function(k){'use strict';k.forEach(function(l){if(typeof l==='string'){if(b.TypeaheadBehaviors&&b.TypeaheadBehaviors[l]){b.TypeaheadBehaviors[l](this);}else c('Run').onLoad(function(){if(b.TypeaheadBehaviors)(b.TypeaheadBehaviors[l]||c('emptyFunction'))(this);}.bind(this));}else this.enableBehavior(l);},this);};j.getInstance=function(k){'use strict';var l=c('Parent').byClass(k,'uiTypeahead');return l?c('DataStore').get(l,'Typeahead'):null;};j.initNow=function(k,l,m){'use strict';if(m)m.init(k);k.init(l);};j.init=function(k,l,m,n){'use strict';if(!c('DOM').isNodeOfType(k,['input','textarea']))k=c('DOM').scry(k,'input')[0]||c('DOM').scry(k,'textarea')[0];var o=false;try{o=document.activeElement===k;}catch(p){}if(o){j.initNow(l,m,n);}else var q=c('Event').listen(k,'focus',function(){j.initNow(l,m,n);q.remove();});};f.exports=j;},null);
__d('StickyPlaceholderInput',['Event','CSS','DOM','Input','Parent','emptyFunction','getElementText'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(l){return c('Parent').byClass(l,'uiStickyPlaceholderInput');}function i(l){return c('DOM').scry(l,'.placeholder')[0];}function j(l){l=l||window.event;var m=l.target||l.srcElement;if(c('DOM').isNodeOfType(m,['input','textarea'])){var n=h(m);if(n)setTimeout(function(){c('CSS').conditionClass(n,'uiStickyPlaceholderEmptyInput',!m.value.length);},0);}}var k={init:function(){k.init=c('emptyFunction');c('Event').listen(document.documentElement,{keydown:j,keyup:j,paste:j,focusout:j});},registerInput:function(l){k.init();var m=l.getAttribute('placeholder')||'';if(m.length)if(document.activeElement===l){var n=c('Event').listen(l,'blur',function(){k.manipulateInput(l,m);n.remove();});}else k.manipulateInput(l,m);},manipulateInput:function(l,m){var n=c('DOM').create('div',{className:'placeholder','aria-hidden':'true'},m),o=c('DOM').create('div',{className:'uiStickyPlaceholderInput'},n);if(c('DOM').isNodeOfType(l,'textarea'))c('CSS').addClass(o,'uiStickyPlaceholderTextarea');c('Event').listen(n,'click',function(){l.focus();});if(l.value===m)l.value='';l.setAttribute('placeholder','');c('DOM').replace(l,o);c('DOM').appendContent(o,l);c('CSS').conditionClass(o,'uiStickyPlaceholderEmptyInput',!l.value.length);},setPlaceholderText:function(l,m){var n=h(l);if(!n){c('Input').setPlaceholder(l,m);}else{var o=i(n);o&&c('DOM').setContent(o,m);}},getPlaceholderText:function(l){var m=h(l),n=i(m);return n&&c('getElementText')(n);},update:function(l){var m=h(l);if(m)c('CSS').conditionClass(m,'uiStickyPlaceholderEmptyInput',!l.value.length);},getVisibleText:function(l){var m=h(l);if(c('CSS').hasClass(m,'uiStickyPlaceholderEmptyInput')){var n=i(m);return n&&c('getElementText')(n);}else return l.value;}};f.exports=k;},null);
__d('TypeaheadCore',['Arbiter','ArbiterMixin','CSS','DOM','Event','Focus','Input','InputSelection','Keys','StickyPlaceholderInput','UserAgent_DEPRECATED','bind','emptyFunction','mixin'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this);Object.assign(this,k);}j.prototype.init=function(k,l,m){'use strict';this.init=c('emptyFunction');this.data=k;this.view=l;this.root=m;this.initInput();this.inputWrap=c('DOM').find(m,'div.wrap');this.hiddenInput=c('DOM').find(m,'input.hiddenInput');this.value='';this.nextQuery=null;this.selectedText=null;if(this.setValueOnSelect&&c('CSS').hasClass(this.inputWrap,'selected'))this.selectedText=this.getValue();this.initView();this.initData();this.initEvents();this.initToggle();this._exclusions=[];};j.prototype.initInput=function(){'use strict';this.element=c('DOM').find(this.root,'.textInput');var k=c('DOM').scry(this.element,'input')[0];if(k)this.element=k;};j.prototype.initView=function(){'use strict';this.view.subscribe('highlight',c('Focus').set.bind(null,this.element));this.view.subscribe('select',function(k,l){this.select(l.selected);}.bind(this));this.view.subscribe('afterSelect',function(){this.afterSelect();}.bind(this));};j.prototype.initData=function(){'use strict';this.data.subscribe('notify',function(k,l){if(this.root.id==l.rootid&&!this.element.disabled&&l.value==this.getValue())this.view.render(l.value,l.results,l.isAsync);}.bind(this));this.data.subscribe('respond',function(k,l){if(l.forceDisplay||l.value==this.getValue()&&!this.element.disabled&&(this.element.getAttribute('singlestate')!=='true'||l.nullState))this.view.render(l.value,l.results,l.isAsync);}.bind(this));this.data.subscribe('activity',function(k,l){this.fetching=l.activity;if(!this.fetching)this.nextQuery&&this.performQuery();if(this.loading!=this.fetching){this.loading=this.fetching;this.inform('loading',{loading:this.loading});}}.bind(this));};j.prototype.initEvents=function(){'use strict';c('Event').listen(this.view.getElement(),{mouseup:this.viewMouseup.bind(this),mousedown:this.viewMousedown.bind(this)});var k={blur:c('bind')(this,'blur'),focus:c('bind')(this,'focus'),click:c('bind')(this,'click'),keyup:c('bind')(this,'keyup'),keydown:c('bind')(this,'keydown'),keypress:c('bind')(this,'keypress')};if(c('UserAgent_DEPRECATED').firefox())k.input=k.keyup;c('Event').listen(this.element,k);};j.prototype.initToggle=function(){'use strict';this.subscribe('blur',this.view.hide.bind(this.view));this.subscribe('focus',this.view.show.bind(this.view));};j.prototype.viewMousedown=function(){'use strict';this.selecting=true;};j.prototype.viewMouseup=function(){'use strict';this.selecting=false;};j.prototype.blur=function(){'use strict';if(this.selecting){this.selecting=false;return;}this.inform('blur');};j.prototype.click=function(){'use strict';var k=c('InputSelection').get(this.element);if(k.start==k.end)this.element.select();this.inform('click');};j.prototype.focus=function(){'use strict';this.checkValue();this.inform('focus');};j.prototype.keyup=function(){'use strict';if(this.resetOnKeyup&&!this.getValue())this.view.reset();this.checkValue();if(this.getValue().length===0)this.inform('change',null);};j.prototype.keydown=function(event){'use strict';if(!this.view.isVisible()||this.view.isEmpty()){setTimeout(this.checkValue.bind(this),0);return;}switch(c('Event').getKeyCode(event)){case c('Keys').TAB:this.handleTab(event);return;case c('Keys').UP:this.view.prev();break;case c('Keys').DOWN:this.view.next();break;case c('Keys').ESC:this.view.reset();break;default:setTimeout(this.checkValue.bind(this),0);return;}event.kill();};j.prototype.keypress=function(event){'use strict';if(this.view.getSelection()&&c('Event').getKeyCode(event)==c('Keys').RETURN){this.view.select();event.kill();}};j.prototype.handleTab=function(event){'use strict';if(this.preventFocusChangeOnTab)if(this.view.getSelection()){event.kill();}else event.prevent();this.view.select();};j.prototype.select=function(k){'use strict';if(k&&this.setValueOnSelect){var l=k.orig_text||k.text;this.setValue(l);this.setHiddenValue(k.uid);this.selectedText=l;c('CSS').addClass(this.inputWrap,'selected');}};j.prototype.afterSelect=function(){'use strict';this.keepFocused?c('Focus').set(this.element):this.element.blur();this.resetOnSelect?this.reset():this.view.reset();};j.prototype.unselect=function(){'use strict';if(this.setValueOnSelect){this.selectedText=null;c('CSS').removeClass(this.inputWrap,'selected');}this.setHiddenValue();this.inform('unselect',this);};j.prototype.setEnabled=function(k){'use strict';var l=k===false;this.element.disabled=l;c('CSS').conditionClass(this.root,'uiTypeaheadDisabled',l);};j.prototype.reset=function(){'use strict';this.unselect();this.setValue();!this.keepFocused&&c('Input').reset(this.element);this.view.reset();this.inform('reset');};j.prototype.getElement=function(){'use strict';return this.element;};j.prototype.setExclusions=function(k){'use strict';this._exclusions=k.map(String);};j.prototype.getExclusions=function(){'use strict';return this._exclusions;};j.prototype.setValue=function(k){'use strict';this.value=this.nextQuery=k||'';c('Input').setValue(this.element,this.value);c('StickyPlaceholderInput').update(this.element);this.inform('change',k);};j.prototype.setHiddenValue=function(k){'use strict';this.hiddenInput.value=k||k===0?k:'';c('Arbiter').inform('Form/change',{node:this.hiddenInput});};j.prototype.getValue=function(){'use strict';return c('Input').getValue(this.element);};j.prototype.getHiddenValue=function(){'use strict';return this.hiddenInput.value||'';};j.prototype.checkValue=function(){'use strict';var k=this.getValue();if(k==this.value)return;if(this.selectedText&&this.selectedText!=k)this.unselect();var l=Date.now(),m=l-this.time;this.time=l;this.value=this.nextQuery=k;this.inform('change',this.value);this.performQuery(m);};j.prototype.performQuery=function(k){'use strict';if(this.selectedText)return;k=k||0;if(this.fetching&&k<this.queryTimeout){this.data.query(this.nextQuery,true,this._exclusions,k);}else{this.data.query(this.nextQuery,false,this._exclusions,k);this.nextQuery=null;}};j.prototype.updateHeight=function(){'use strict';};Object.assign(j.prototype,{events:['blur','focus','click','unselect','loading','change'],keepFocused:true,resetOnSelect:false,resetOnKeyup:true,setValueOnSelect:false,queryTimeout:250,preventFocusChangeOnTab:false});f.exports=j;},null);
__d('DOMEmoji',['cx','EmojiImageURL','EmojiRenderer','SupportedEmoji','Utf16','createEmojiElement','flattenArray','isElementNode'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={MAX_ITEMS:40,transform:function(j,k){return c('flattenArray')(j.map(function(l){if(!c('isElementNode')(l)){return c('EmojiRenderer').render(l,function(m){var n=m.map(function(o){return c('Utf16').decode(o).toString(16);}).join('_');if(c('SupportedEmoji').emoji[n])return c('createEmojiElement')(m.join(''),c('EmojiImageURL').getUnicodeURL(n));return m.join('');},this.MAX_ITEMS);}else return l;}.bind(this)));}};f.exports=i;},null);
__d('TransformTextToDOMMixin',['flattenArray','isElementNode'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=3,i={transform:function(j,k){return c('flattenArray')(j.map(function(l){if(!c('isElementNode')(l)){var m=l,n=[],o=this.MAX_ITEMS||h;while(o--){var p=k?[m].concat(k):[m],q=this.match.apply(this,p);if(!q)break;n.push(m.substring(0,q.startIndex));n.push(q.element);m=m.substring(q.endIndex);}m&&n.push(m);return n;}return l;}.bind(this)));},params:function(){for(var j=arguments.length,k=Array(j),l=0;l<j;l++)k[l]=arguments[l];var m=this;return {__params:true,obj:m,params:k};}};f.exports=i;},null);
__d('DOMEmote',['fbt','CSS','EmoticonsList','JSXDOM','TransformTextToDOMMixin'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={MAX_ITEMS:40,match:function(j){var k=c('EmoticonsList').regexp.exec(j);if(!k||!k.length)return false;var l=k[2],m=k.index+k[1].length;return {startIndex:m,endIndex:m+l.length,element:this._element(l,c('EmoticonsList').emotes[l])};},_element:function(j,k){var l=h._("\u0421\u043c\u0430\u0439\u043b\u0438\u043a \u00ab{emoticonName}\u00bb",[h.param('emoticonName',k)]),m=c('JSXDOM').span({className:'accessible_elem'},l),n=c('JSXDOM').span({title:j,className:"emoticon"});c('CSS').addClass(n,'emoticon_'+k);return [m,n];}};f.exports=Object.assign(i,c('TransformTextToDOMMixin'));},null);
__d('transformTextToDOM',['createArrayFromMixed'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){var k=[i];j=c('createArrayFromMixed')(j);j.forEach(function(l){var m,n=l;if(l.__params){m=l.params;n=l.obj;}k=n.transform(k,m);});return k;}f.exports=h;},null);
__d('emojiAndEmote',['DOMEmoji','DOMEmote','transformTextToDOM'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(i){var j=[c('DOMEmoji'),c('DOMEmote')];return c('transformTextToDOM')(i,j);};f.exports=h;},null);
__d('PluginFlyoutDialog',['Arbiter','DOMEvent','DOMEventListener','PluginFlyout'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k){this.parent=new (c('PluginFlyout'))(i,j,k);this.flyout=i;c('Arbiter').subscribe(c('PluginFlyout').SHOW,this.show.bind(this),c('Arbiter').SUBSCRIBE_NEW);}Object.assign(h.prototype,{show:function(){if(this.subscribed)return;this.subscribed=1;var i=window.ServerJSAsyncLoader;i&&i.ondemandjs&&i.run(i.ondemandjs);c('DOMEventListener').add(this.flyout.parentNode,'click',function(j){j=new (c('DOMEvent'))(j);if(j.target===this.flyout.parentNode){j.kill();this.parent.hide();}}.bind(this));}});f.exports=h;},null);
__d('TypeaheadBestName',['FamilyMentionsData','TokenizeUtil'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this._typeahead=i;}h.prototype.enable=function(){'use strict';var i=this._typeahead.getView(),j=this._getAvailableAlternateNameFields();this._subscription=i.subscribe('beforeRender',function(k,l){var m=l.value;for(var n=0;n<l.results.length;++n){var o=l.results[n],p=this._getNameToDisplay(o,m,j);if(p!==null){o.text=p;if(o.hasOwnProperty('default_name')&&o.text!==o.default_name){o.subtext=o.default_name;}else o.subtext=null;}}}.bind(this));};h.prototype.disable=function(){'use strict';this._typeahead.getView().unsubscribe(this._subscription);this._subscription=null;};h.prototype._getNameToDisplay=function(i,j,k){'use strict';if(i.hasOwnProperty('default_name')&&c('TokenizeUtil').isQueryMatch(j,i.default_name))return i.default_name;for(var l=0;l<k.length;l++){var m=i[k[l]];if(m==undefined)continue;for(var n=0;n<m.length;n++){var o=m[n];if(c('TokenizeUtil').isQueryMatch(j,o))return o;}}if(i.hasOwnProperty('default_name'))return i.default_name;return null;};h.prototype._getAvailableAlternateNameFields=function(){'use strict';var i=['alternate_names'];if(c('FamilyMentionsData').allowFamilyNames)i.push('family_names');return i;};Object.assign(h.prototype,{_subscription:null});f.exports=h;},null);
__d('legacy:BestNameTypeaheadBehavior',['TypeaheadBestName'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();if(!b.TypeaheadBehaviors)b.TypeaheadBehaviors={};b.TypeaheadBehaviors.buildBestAvailableNames=function(h){h.enableBehavior(c('TypeaheadBestName'));};},3);
__d('MentionsInputMatchers',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=['@','\\uff20'].join(''),i=['#','\\uFF03'].join(''),j='.,+*?$|#{}()\\^\\-\\[\\]\\\\\/!%\'"~=<>_:;\n\r',k=j.replace('#','')+'&',l='\u200B';function m(p,q){'use strict';this.$Matchers1=p;this.$Matchers2=q;this.$Matchers3();}m.prototype.$Matchers3=function(){'use strict';var p=this.$Matchers4(this.$Matchers2),q=this.$Matchers5(this.$Matchers1,this.$Matchers2),r=this.$Matchers6(this.$Matchers1,q),s=this.$Matchers7(p,r),t=this.$Matchers8(p);this.$Matchers9=new RegExp('['+this.$Matchers1+']$');this.$Matchers10=new RegExp(r+'$');this.$Matchers11=new RegExp(t+'$');this.$Matchers12=new RegExp(s+'$');this.$Matchers13=new RegExp('['+i+']');};m.prototype.$Matchers4=function(p){'use strict';return '\\b[A-Z][^ A-Z'+p+l+']';};m.prototype.$Matchers5=function(p,q){'use strict';return '(?:[^'+p+q+']|['+q+'][^ '+q+'])';};m.prototype.$Matchers6=function(p,q){'use strict';return '(?:^|\\s)(['+p+']('+q+'{0,20}))';};m.prototype.$Matchers7=function(p,q){'use strict';return '(?:(?:^|[^#])('+p+'+)|'+q+')';};m.prototype.$Matchers8=function(p){'use strict';return '(?:'+p+'{4,})';};m.prototype.getMainMatcher=function(){'use strict';return this.$Matchers10;};m.prototype.getTriggerMatcher=function(){'use strict';return this.$Matchers9;};m.prototype.getAutoMatcher=function(){'use strict';return this.$Matchers12;};m.prototype.getHashtagMatcher=function(){'use strict';return this.$Matchers13;};var n='\\b[A-Z][^ A-Z'+j+']',o={mentionsMatchers:new m(h,j),hashtagMatchers:new m(i,k),userMatcher:new RegExp('(?:'+n+'{4,})'+'$')};f.exports=o;},null);
__d('MentionsInput',['cx','Arbiter','ArbiterMixin','Bootloader','CSS','DataStore','DOM','Event','FbtResult','FlipDirection','Input','InputSelection','Keys','MentionsInputMatchers','Parent','Style','TokenizeUtil','UserAgent_DEPRECATED','htmlize','mixin','removeFromArray'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k='\u200B',l=new RegExp(k,'g'),m=function(v){return v+k;},n=function(v){return v.replace(/(@+)(\[[0-9]+\:([^\]]|\\\])*\]+)/g,'$1 $2');},o=/[\\\]:]/g,p={MENTIONS:'mentions',HASHTAGS:'hashtags'};function q(v,w){return v.replace(w,' '.repeat(w.length));}function r(v,w){return v.substring(0,w)+v.substring(w+1);}function s(v){var w=v.lastIndexOf('>');if(w>=0){var x=v.indexOf(' ',w);return x>=0?v.substr(0,x+1):v;}else return '';}function t(v,w,x){var y=x.lastIndexOf('<',w)>x.lastIndexOf('>',w);return y?' ':'&nbsp;<wbr />';}i=babelHelpers.inherits(u,c('mixin')(c('ArbiterMixin')));j=i&&i.prototype;function u(v,w,x,y,z,aa){'use strict';j.constructor.call(this);c('DataStore').set(v,'MentionsInput',this);this._root=v;this._typeahead=w;this._input=x;this._offsets=[];var ba=null,ca=this.init.bind(this,y,z,aa);try{ba=document.activeElement===this._input;}catch(da){}if(ba){setTimeout(ca,0);}else var ea=c('Event').listen(this._input,'focus',function(){setTimeout(ca,0);ea.remove();});this._hasHashtags=y.hashtags;this._hashtagsDataSource=y.hashtags_data_source;this._mentionsDataSource=this._typeahead.getData();this._currentDataSource=this._mentionsDataSource;this._autoSuggestPages=y.autosuggest_pages;this._lastHighlighterHTML='';this._hashtags=[];this._matchers=c('MentionsInputMatchers').mentionsMatchers;this._setMatchersMode(p.MENTIONS);}u.prototype.init=function(v,w,x){'use strict';if(this._initialized)return;this._initValue=w?w.value:'';this._highlighter=c('DOM').find(this._root,'.highlighter');this._highlighterInner=this._highlighter.firstChild;this._highlighterContent=c('DOM').find(this._root,'.highlighterContent');this._hiddenInput=c('DOM').find(this._root,'.mentionsHidden');this._placeholder=this._input.getAttribute('placeholder')||'';this._metrics=x;if(!this._hiddenInput.name){var y=this._input.name;this._input.name=y+'_text';this._hiddenInput.name=y;}this._initEvents();this._initTypeahead();if(w===null){this._setup();}else this.reset(w);this.inform('init',null,c('Arbiter').BEHAVIOR_STATE);this._initialized=true;};u.prototype._setup=function(){'use strict';this._mentioned={};this._orderedUIDs=[];this._numMentioned=0;this._filterData=null;this._highlighterContent&&c('DOM').empty(this._highlighterContent);this._highlighterAuxContent&&c('DOM').remove(this._highlighterAuxContent);this._highlighterAuxContent=null;c('Input').setPlaceholder(this._input,this._placeholder);c('Style').set(this._typeahead.getElement(),'height','auto');};u.prototype.reset=function(v){'use strict';this._setup();var w=v&&v.value||'';this._value=w;this._hiddenInput&&(this._hiddenInput.value=w);if(this._input&&v)c('Input').setValue(this._input,v.value);var x=v&&v.mentions;if(x&&x.length){var y=[];x.forEach(function(z){y.push(z.offset+z.length);delete z.offset;delete z.length;this._addToken(z);},this);y.reverse().forEach(function(z){w=w.substring(0,z)+k+w.substring(z);});}c('Input').setValue(this._input,w);if(this._value==='')c('FlipDirection').setDirection(this._input);this._update();};u.prototype.getValue=function(){'use strict';return c('Input').getValue(this._input).replace(l,'');};u.prototype._getMarkedValue=function(){'use strict';return c('Input').getValueRaw(this._input);};u.prototype.getRawValue=function(){'use strict';this._update();return c('Input').getValue(this._hiddenInput);};u.prototype.checkValue=function(){'use strict';var v=this._typeahead.getCore().getValue();if(this._matchers.getTriggerMatcher().exec(v)||v==='')this.inform('sessionEnd',{});};u.prototype.getTypeahead=function(){'use strict';return this._typeahead;};u.prototype.hasChanges=function(){'use strict';return !c('Input').isEmpty(this._input)&&this._input.value!==this._initValue&&this._initialized;};u.prototype.focus=function(){'use strict';this._input.focus();};u.prototype._initEvents=function(){'use strict';var v=this._update.bind(this);c('Event').listen(this._input,{input:v,keyup:v,change:v,blur:this._handleBlur.bind(this),focus:this._handleFocus.bind(this),keydown:this._handleKeydown.bind(this)});if(this._metrics){this._metrics.init(this._typeahead);this._metrics._reset();this._metrics.bindSessionStart(this._typeahead,'render',true);this._metrics.bindSessionEnd(this._typeahead.getView(),'select',true);this._metrics.bindSessionEnd(this,'sessionEnd',false);c('Event').listen(this._input,'keyup',function(event){setTimeout(this.checkValue.bind(this),0);}.bind(this));}};u.prototype._initTypeahead=function(){'use strict';this._typeahead.subscribe('select',function(aa,ba){var ca=ba.selected;this._addToken({uid:ca.uid,text:ca.text,type:ca.type,weakreference:ca.weak_reference});this.updateValue();}.bind(this));var v=this._input,w=null;function x(){if(w===null){w=c('Input').getSubmitOnEnter(v);c('Input').setSubmitOnEnter(v,false);}}function y(){if(w!==null){c('Input').setSubmitOnEnter(v,w);w=null;}}this._typeahead.subscribe('reset',y);this._typeahead.subscribe('render',x);this._typeahead.subscribe('highlight',function(aa,ba){ba.index>=0?x():y();});this._typeahead.subscribe('query',function(){this._filterData=null;}.bind(this));var z=this._typeahead.getCore();z.suffix=k;this._handleFocus();};u.prototype._handleBlur=function(){'use strict';if(this._filterToken){this._filterToken.remove();this._filterToken=null;}};u.prototype._handleFocus=function(){'use strict';if(!this._filterToken)this._filterToken=this._typeahead.getData().addFilter(this._filterResults.bind(this));this._updateWidth();};u.prototype._handleKeydown=function(event){'use strict';var v=event.keyCode;if(v==c('Keys').BACKSPACE||v==c('Keys').DELETE)this._handleBackspaceAndDelete(event,v);if(v==c('Keys').LEFT||v==c('Keys').RIGHT)setTimeout(this._handleLeftAndRight.bind(this,v),10);};u.prototype._handleLeftAndRight=function(v){'use strict';var w=this._getMarkedValue(),x=c('InputSelection').get(this._input),y=x.start,z=x.end,aa=v==c('Keys').LEFT,ba=v==c('Keys').RIGHT;if(y==z){var ca=aa?-1:1;if(w.charAt(y)==k)c('InputSelection').set(this._input,y+ca);}else if(aa&&w.charAt(y)==k){c('InputSelection').set(this._input,y-1,z);}else if(aa&&w.charAt(z)==k){c('InputSelection').set(this._input,y,z-1);}else if(ba&&w.charAt(z)==k){c('InputSelection').set(this._input,y,z+1);}else if(ba&&w.charAt(y)==k)c('InputSelection').set(this._input,y+1,z);};u.prototype._handleBackspaceAndDelete=function(event,v){'use strict';var w=c('InputSelection').get(this._input),x=false;if(w.start!==w.end)if(this._offsetIsInsideMention(w.start+1)&&this._offsetIsInsideMention(w.end)){x=v===c('Keys').BACKSPACE;}else return;var y=v===c('Keys').DELETE?1:-1,z=y+(x?w.end:w.start),aa=this._getMarkedValue(),ba=aa;for(var ca=0;ca<this._orderedUIDs.length;++ca){var da=this._mentioned[this._orderedUIDs[ca]],ea=da.text,fa=m(ea),ga=ba.indexOf(fa),ha=ga+fa.length;if(z<ga||z>=ha){ba=q(ba,fa);continue;}var ia,ja;if(da.type!='user'){ia=0;ja=[ea];}else{ia=fa.substring(0,z-ga).split(' ').length-1;ja=ea.split(' ');}var ka=ja.splice(ia,1)[0],la=ja.join(' '),ma=ia===0?ga:ha-ka.length-1;if(la){da.text=la;la=m(la);}else this._removeToken(da.uid);var na=aa.substring(0,ga)+la+aa.substring(ha);c('Input').setValue(this._input,na);c('InputSelection').set(this._input,ma);this._update();event.kill();break;}};u.prototype._offsetIsInsideMention=function(v){'use strict';for(var w=0;w<this._offsets.length;w++)if(v>this._offsets[w][0]&&v<=this._offsets[w][1])return true;return false;};u.prototype._filterResults=function(v){'use strict';if(this._filterData===null){var w=c('InputSelection').get(this._input).start;if(this._offsetIsInsideMention(w)){this._filterData={caretIsInsideMention:true};return false;}var x=this._typeahead.getCore();this._filterData={value:x.getValue(),rawValue:x.getRawValue()};}if(this._filterData.caretIsInsideMention)return false;if(this._matchers.getMainMatcher().test(this._filterData.rawValue))return true;if(v.type!='user'&&!v.connected_page)return false;if(v.disable_autosuggest)return false;if(this._matchersMode===p.MENTIONS&&c('MentionsInputMatchers').userMatcher.test(this._filterData.value))return true;return c('TokenizeUtil').isExactMatch(this._filterData.value,this._typeahead.getData().getTextToIndex(v));};u.prototype._addToken=function(v){'use strict';var w=v.uid;if(!this._mentioned.hasOwnProperty(w)){this._mentioned[w]=v;var x=this._orderedUIDs,y=n(this._getMarkedValue()),z=y.indexOf(m(this._mentioned[w].text)),aa=false,ba=0;for(var ca=0;ca<x.length;++ca){var da=m(this._mentioned[x[ca]].text),ea=y.indexOf(da,ba);ba=ea+da.length;if(z<ea){this._orderedUIDs.splice(ca,0,w);aa=true;break;}}if(!aa)this._orderedUIDs.push(w);this._numMentioned++;this._update();}};u.prototype._removeToken=function(v){'use strict';if(this._mentioned.hasOwnProperty(v)){delete this._mentioned[v];c('removeFromArray')(this._orderedUIDs,v);this._numMentioned--;this._update();}};u.prototype._update=function(v){'use strict';v=v||{};var w=this._getMarkedValue();this._checkShouldSwapDataSource(w);if(w==this._value)return;this._value=w;this._updateTypeahead();this._updateMentions();this._updateWidth();setTimeout(this._updateDirection.bind(this),0);this.updateValue();var x=this.hasAuxContent();this.inform('valueUpdate',{value:w,hasAuxContent:x});};u.prototype._updateMentions=function(){'use strict';this._offsets=[];var v=this._getMarkedValue(),w=v;for(var x=0;x<this._orderedUIDs.length;++x){var y=this._orderedUIDs[x],z=m(this._mentioned[y].text),aa=w.indexOf(z);if(aa==-1)this._removeToken(y);w=q(w,z);this._offsets.push([aa,aa+z.length]);}var ba=v;while((aa=w.indexOf(k))>-1){ba=r(ba,aa);w=r(w,aa);}if(v!==ba){var ca=c('InputSelection').get(this._input);c('Input').setValue(this._input,ba);c('InputSelection').set(this._input,ca.start);this._value=ba;}};u.prototype._renderHashtags=function(v){'use strict';this._initHashtagParser(v);if(!this._hasHashtags||!this._hashtagParser)return c('htmlize')(v);this._hashtags=this._hashtagParser.parse(v);var w=[],x=0;for(var y=0;y<this._hashtags.length;y++){var z=this._hashtags[y];w.push(c('htmlize')(v.substring(x,z.rawOffset)),'<b>',z.marker,z.tag,'</b>');x=z.rawOffset+z.marker.length+z.tag.length;}w.push(c('htmlize')(v.substring(x)));return w.join('');};u.prototype.updateValue=function(){'use strict';var v=this._value=this._getMarkedValue(),w=this._orderedUIDs,x=n(v);for(var y=0;y<w.length;++y){var z='@['+w[y]+':]',aa=m(this._mentioned[w[y]].text);x=x.replace(aa,z);v=v.replace(aa,z);}var ba=this._renderHashtags(v);for(var y=0;y<w.length;++y){var ca=w[y],da=this._mentioned[ca],ea=da.text,fa=da.weakreference?'<b class="weak">':'<b>';ba=ba.replace('@['+ca+':]',fa+c('htmlize')(m(ea))+'</b>');ea=ea.replace(o,function(ha){return '\\'+ha;});x=x.replace('@['+ca+':]','@['+ca+':'+ea+']');}var ga=s(ba);if(this._highlighterAuxContent||ga!==this._lastHighlighterHTML){if(c('UserAgent_DEPRECATED').ie()<9)ba=ba.replace(/ /g,t);this._highlighterContent.innerHTML=ba;this._updateHighlighter();this._lastHighlighterHTML=ga;}this._hiddenInput.value=x;this._updateHeight();};u.prototype._updateDirection=function(){'use strict';var v=c('Style').get(this._input,'direction');if(v==this._dir)return;this._dir=v;c('Style').set(this._highlighter,'direction',v);if(v=='rtl'){c('Style').set(this._highlighter,'text-align','right');}else c('Style').set(this._highlighter,'text-align','left');};u.prototype._updateWidth=function(){'use strict';var v=this._input.offsetWidth;if(v===this._lastInputWidth)return;this._lastInputWidth=v;var w=c('Style').getFloat.bind(null,this._input),x=v-w('paddingLeft')-w('paddingRight')-w('borderLeftWidth')-w('borderRightWidth');this._highlighterInner.style.width=Math.max(x,0)+'px';};u.prototype._updateHeight=function(){'use strict';if(this._highlighterAuxContent){var v=this._highlighter.offsetHeight,w=this._typeahead.getElement();if(v>w.offsetHeight){this._typeahead.setHeight(v);c('Arbiter').inform('reflow');}}};u.prototype._updateTypeahead=function(){'use strict';var v=this._typeahead.getCore();v.matcher=this._matchers.getAutoMatcher();v.setExclusions(this._orderedUIDs);this.inform('update',{mentioned:this._mentioned});};u.prototype.setPlaceholder=function(v){'use strict';this._placeholder=v instanceof c('FbtResult')?v.toString():v;if(!this.hasAuxContent())c('Input').setPlaceholder(this._input,this._placeholder);};u.prototype._updateHighlighter=function(){'use strict';if(this._highlighterContent)c('CSS').conditionShow(this._highlighterContent,this._numMentioned>0||this.hasAuxContent()||this._hashtags.length);};u.prototype.setAuxContent=function(v){'use strict';if(this._highlighterContent){if(!this._highlighterAuxContent){this._highlighterAuxContent=c('DOM').create('span',{className:"highlighterAuxContent"});c('DOM').insertAfter(this._highlighterContent,this._highlighterAuxContent);}c('DOM').setContent(this._highlighterAuxContent,v);if(v){c('Input').setPlaceholder(this._input,'');}else c('Input').setPlaceholder(this._input,this._placeholder);this._value=null;this._update();this._updateHighlighter();this._updateHeight();}};u.prototype.hasAuxContent=function(){'use strict';var v=this.getAuxContentRoot();return v&&c('CSS').shown(v)&&v.innerHTML.length>0;};u.prototype.getAuxContentRoot=function(){'use strict';return this._highlighterAuxContent;};u.prototype.addMention=function(v,w){'use strict';w=typeof w==='undefined'?true:w;var x=w===false?'':' ',y=this._getMarkedValue();if(y!=='')y+=' ';c('Input').setValue(this._input,y+m(v.text)+x);this._addToken(v);this._update();};u.prototype.getMentions=function(){'use strict';return this._mentioned;};u.prototype.bootloadHashtagParser=function(){'use strict';if(!this._hashtagParser)c('Bootloader').loadModules(["HashtagParser"],function(v){this._hashtagParser=v;if(this._initialized){this._value=null;this._update();}}.bind(this),'MentionsInput');};u.getInstance=function(v){'use strict';var w=c('Parent').byClass(v,'uiMentionsInput');return w?c('DataStore').get(w,'MentionsInput'):null;};u.prototype._checkShouldSwapDataSource=function(v){'use strict';this._initHashtagParser(v);if(!this._hashtagsDataSource||!this._hashtagParser)return;var w=this._isInsideHashtagToken(v);if(this._matchersMode===p.HASHTAGS&&!w){this._setMatchersMode(p.MENTIONS);this._swapData(this._mentionsDataSource);}else if(this._matchersMode===p.MENTIONS&&w){this._setMatchersMode(p.HASHTAGS);this._swapData(this._hashtagsDataSource);}};u.prototype._swapData=function(v){'use strict';this._currentDataSource=v;this._typeahead.swapDataNoCoreReset(this._currentDataSource);this._metrics.data=this._currentDataSource;this._metrics.initEvents();};u.prototype._isInsideHashtagToken=function(v){'use strict';this._hashtags=this._hashtagParser.parse(v);var w=c('InputSelection').get(this._input).start;for(var x=0;x<this._hashtags.length;x++){var y=this._hashtags[x],z=y.offset;if(w>=z&&w<=z+y.tag.length+1)return true;}return false;};u.prototype._initHashtagParser=function(v){'use strict';if(this._hashtagParser)return;if(this._matchers.getHashtagMatcher().exec(v))this.bootloadHashtagParser();};u.prototype._setMatchersMode=function(v){'use strict';switch(v){case p.MENTIONS:this._matchers=c('MentionsInputMatchers').mentionsMatchers;break;case p.HASHTAGS:this._matchers=c('MentionsInputMatchers').hashtagMatchers;break;default:throw new Error('MatchersMode enum is missing constant '+v);}this._matchersMode=v;};f.exports=u;},null);
__d('legacy:MentionsInput',['MentionsInput'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();b.MentionsInput=c('MentionsInput');},3);
__d('TypeaheadAreaCore',['InputSelection','TextAreaControl','TypeaheadCore','emptyFunction'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('TypeaheadCore'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,k);this.matcher=new RegExp(this.matcher+'$');this.preventFocusChangeOnTab=true;}j.prototype.select=function(k){'use strict';i.select.call(this,k);var l=this.element.value,m=this.prefix+k.text+this.suffix;this.expandBounds(l,m);var n=l.substring(0,this.start),o=l.substring(this.end);this.element.value=n+m+o;c('InputSelection').set(this.element,n.length+m.length);};j.prototype.expandBounds=function(k,l){'use strict';k=k.toLowerCase();l=l.toLowerCase();var m,n,o,p,q=/\s/;n=k.substring(this.start,this.end);o=l.indexOf(n);m=this.start;while(m>=0&&o>=0){p=k.charAt(m-1);if(!p||q.test(p))this.start=m;n=p+n;o=l.indexOf(n);m--;}n=k.substring(this.start,this.end);o=l.indexOf(n);m=this.end;while(m<=k.length&&o>=0){p=k.charAt(m);if(!p||q.test(p))this.end=m;n=n+p;o=l.indexOf(n);m++;}};j.prototype.getRawValue=function(){'use strict';var k=c('InputSelection').get(this.element).start||0;return i.getValue.call(this).substring(0,k);};j.prototype.getValue=function(){'use strict';var k=this.matcher&&this.matcher.exec(this.getRawValue());if(!k)return '';var l=k[0],m=k.index+l.length;l=l.replace(/^\s/,'');var n=l.length;l=l.replace(/\s$/,'');var o=n-l.length;this.start=m-n;this.end=m+o;if(k[2]&&(k[2].charAt(0)==='#'||k[2].charAt(0)==='\\uFF03'))return k[2];return k[3]||k[1]||k[0];};j.prototype.updateHeight=function(){'use strict';var k=c('TextAreaControl').getInstance(this.element);k.updateHeight();};Object.assign(j.prototype,{prefix:'',suffix:', ',matcher:"\\b[^,]*",click:c('emptyFunction')});f.exports=j;},null);
__d('TypeaheadHoistFriends',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this._typeahead=i;}h.prototype.enable=function(){'use strict';var i=this._typeahead.getView();this._subscription=i.subscribe('beforeRender',function(j,k){var l=[],m=[],n=[];for(var o=0;o<k.results.length;++o){var p=k.results[o];if(p.type=='header'){n=n.concat(m,l);n.push(p);m=[];l=[];}else if(p.type=='user'&&p.bootstrapped){m.push(p);}else l.push(p);}k.results=n.concat(m,l);});};h.prototype.disable=function(){'use strict';this._typeahead.getView().unsubscribe(this._subscription);this._subscription=null;};Object.assign(h.prototype,{_subscription:null});f.exports=h;},null);
__d('legacy:HoistFriendsTypeaheadBehavior',['TypeaheadHoistFriends'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();if(!b.TypeaheadBehaviors)b.TypeaheadBehaviors={};b.TypeaheadBehaviors.hoistFriends=function(h){h.enableBehavior(c('TypeaheadHoistFriends'));};},3);
__d("QueriesHistory",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){"use strict";this.$QueriesHistory1=i;this.reset();}h.prototype.getQueries=function(){"use strict";return this.$QueriesHistory2;};h.prototype.getCurrentLength=function(){"use strict";return this.$QueriesHistory3;};h.prototype.add=function(i){"use strict";this.$QueriesHistory2.push(i);this.$QueriesHistory3+=i.length;while(this.$QueriesHistory2.length!==0&&this.$QueriesHistory3>this.$QueriesHistory1){var j=this.$QueriesHistory2.shift();this.$QueriesHistory3-=j.length;}};h.prototype.reset=function(){"use strict";this.$QueriesHistory3=0;this.$QueriesHistory2=[];};f.exports=h;},null);
__d('TypeaheadMetrics',['AsyncRequest','Event','QueriesHistory','emptyFunction'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=1000;function i(j){'use strict';this.extraData={};Object.assign(this,j);}i.prototype.init=function(j){'use strict';this.init=c('emptyFunction');this._initImpl(j);};i.prototype._initImpl=function(j){'use strict';this.core=j.getCore();this.view=j.getView();this.data=j.getData();this.queriesHistory=new (c('QueriesHistory'))(h);this.stats={};this.sessionActive=false;this._sessionStartEvents=[];this._sessionEndEvents=[];this._reset();this.initEvents();};i.prototype._reset=function(){'use strict';this.log=[];this.stats={};this.avgStats={};this.sessionActive=false;this._setSid(Math.floor(Date.now()*Math.random()));this.request_ids=[];this.lastNotBackspacedQuery='';this.queriesHistory.reset();this._logEvent('session_started',{});};i.prototype._logEvent=function(j,k){'use strict';var l={type:j,data:k,time:Date.now()};this.log.push(l);};i.prototype._setSid=function(j){'use strict';this.sid=j;if(typeof this.data.queryData==='object'&&this.data.queryData!==null){this.data.queryData.sid=this.sid;}else this.data.setQueryData({sid:this.sid});if(typeof this.data.bootstrapData==='object'&&this.data.bootstrapData!==null){this.data.bootstrapData.sid=this.sid;}else this.data.setBootstrapData({sid:this.sid});};i.prototype.resetWithData=function(j){'use strict';this.init=c('emptyFunction');this._initImpl(j);};i.prototype.resetWithDataBeforeSessionEnd=function(j){'use strict';var k=this.sessionActive;this.init=c('emptyFunction');this._initImpl(j);this.sessionActive=k;};i.prototype.recordSelect=function(j){'use strict';var k=j.selected;if(k.uid==null){this.recordStat('selected_id','SELECT_NULL');}else this.recordStat('selected_id',k.uid);this.recordStat('selected_type',k.type);this.recordStat('selected_score',k.score);this.recordStat('selected_original_id',k.original_id);this.recordStat('place_id',k.place_id);this.recordStat('client_time',k.client_time);this.recordStat('selected_position',j.index);this.recordStat('selected_with_mouse',j.clicked?1:0);this.recordStat('selected_query',j.query);this._sessionEnd();};i.prototype.bindSessionStart=function(j,event,k){'use strict';if(k)for(var l=0;l<this._sessionStartEvents.length;++l){var m=this._sessionStartEvents[l];m.obj.unsubscribe(m.token);}this._sessionStartEvents.push({obj:j,token:j.subscribe(event,function(n,o){this._sessionStart();}.bind(this))});};i.prototype.bindSessionEnd=function(j,event,k){'use strict';if(k)for(var l=0;l<this._sessionEndEvents.length;++l){var m=this._sessionEndEvents[l];m.obj.unsubscribe(m.token);}this._sessionEndEvents.push({obj:j,token:j.subscribe(event,function(n,o){this._sessionEnd();}.bind(this))});};i.prototype.dataSubscribe=function(j,k){'use strict';var l=this.data,m=this.data.subscribe(j,k);this._dataSubscriptions.push(function(){l.unsubscribe(m);});};i.prototype.initEvents=function(){'use strict';this._dataSubscriptions=this._dataSubscriptions||[];this._dataSubscriptions.forEach(function(j){j();});this._dataSubscriptions=[];this.bindSessionStart(this.core,'focus',false);this.bindSessionEnd(this.core,'blur',false);this.view.subscribe('select',function(j,k){this.recordSelect(k);}.bind(this));this.bindSessionEnd(this.view,'select',false);this.view.subscribe('render',function(j,k){this.results=k;}.bind(this));this.dataSubscribe('beforeQuery',function(j,k){this._logEvent('user_typed',{query:k.value});if(!k.value)return;this.query=k.value;this.queriesHistory.add(this.query);if(this.lastNotBackspacedQuery.indexOf(this.query)!==0)this.lastNotBackspacedQuery=this.query;this.recordCountStat('num_queries');}.bind(this));this.dataSubscribe('beforeFetch',function(j,k){if(k.fetch_context.bootstrap){this.bootstrapBegin=Date.now();}else k.fetch_context.queryBegin=Date.now();this._logEvent('async_query_started',{query:k.fetch_context.value,request_id:k.fetch_context.request_id});}.bind(this));this.dataSubscribe('fetchComplete',function(j,k){this._logEvent('async_query_completed',{query:k.fetch_context.value,request_id:k.fetch_context.request_id});if(k.fetch_context.bootstrap){this.recordAvgStat('bootstrap_latency',Date.now()-this.bootstrapBegin);var l={};k.response.payload.entries.forEach(function(m){if(!l[m.type]){l[m.type]=1;}else l[m.type]++;});this.recordStat('bootstrap_response_types',l);this.bootstrapped=true;}else{if('filtered_count' in k.response.payload)this.recordStat('filtered_count',k.response.payload.filtered_count);this.recordAvgStat('avg_query_latency',Date.now()-k.fetch_context.queryBegin);}}.bind(this));this.dataSubscribe('respond',function(j,k){this._logEvent('respond',{query:k.value,num_results:k.results.length});var l=this.data.tokenizeBackend(k.value||'').flatValue,m=this.data.findBestPreviousQuery(l,this.data.getQueryIDs())||'',n=this.data.getQueryIDs()[m];this.normalized_backend_query=m;this.request_id=n;this.request_ids.push(n);}.bind(this));this.dataSubscribe('dirty',function(j,k){this.bootstrapped=false;}.bind(this));};i.prototype._sessionStart=function(){'use strict';if(this.sessionActive)return;this.sessionActive=true;};i.prototype._sessionEnd=function(){'use strict';if(!this.sessionActive)return;this.sessionActive=false;this.submit();this._reset();};i.prototype.recordStat=function(j,k){'use strict';this.stats[j]=k;};i.prototype.recordCountStat=function(j){'use strict';var k=this.stats[j];this.stats[j]=k?k+1:1;};i.prototype.recordAvgStat=function(j,k){'use strict';if(this.avgStats[j]){this.avgStats[j][0]+=k;++this.avgStats[j][1];}else this.avgStats[j]=[k,1];};i.prototype.hasStats=function(){'use strict';return !!Object.keys(this.stats).length;};i.prototype.submit=function(){'use strict';if('log_all_sessions' in this.extraData||this.hasStats()){Object.assign(this.stats,this.extraData);if(this.results){var j=this.results.map(function(m,n){return m.uid;});this.recordStat('candidate_results',JSON.stringify(j));}if(this.query)this.recordStat('query',this.query);if(this.lastNotBackspacedQuery)this.recordStat('last_not_backspaced_query',this.lastNotBackspacedQuery);this.recordStat('queries_history',JSON.stringify(this.queriesHistory.getQueries()));if(this.normalized_backend_query)this.recordStat('normalized_backend_query',this.normalized_backend_query);if(this.request_id)this.recordStat('request_id',this.request_id);if(this.request_ids.length)this.recordStat('request_ids',this.request_ids);if(this.sid)this.recordStat('sid',this.sid);if(this.bootstrapped)this.recordStat('bootstrapped',1);for(var k in this.avgStats){var l=this.avgStats[k];this.stats[k]=l[0]/l[1];}this.recordStat('log',JSON.stringify(this.log));new (c('AsyncRequest'))().setURI(this.endPoint).setMethod('POST').setData({stats:this.stats}).setErrorHandler(c('emptyFunction')).send();this._reset();}};i.register=function(j,k,l){'use strict';if(document.activeElement===j){k.init(l);}else var m=c('Event').listen(j,'focus',function(){k.init(l);m.remove();});};Object.assign(i.prototype,{endPoint:'/ajax/typeahead/record_basic_metrics.php'});f.exports=i;},null);
__d('CompactTypeaheadRenderer',['BadgeHelper','DOM','emojiAndEmote','TypeaheadFacepile'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){var k=[];if(i.xhp)return c('DOM').create('li',{className:'raw'},i.xhp);var l=i.photos||i.photo;if(l){if(l instanceof Array){l=c('TypeaheadFacepile').render(l);}else l=c('DOM').create('img',{alt:'',src:l});k.push(l);}var m=i.debug_info;if(m)k.push(c('DOM').create('span',{className:'debugInfo'},m));if(i.text){var n=c('emojiAndEmote')(i.text);if(i.is_verified){n.push(c('BadgeHelper').renderBadge('xsmall','verified'));}else if(i.is_work_user){n.push(c('BadgeHelper').renderBadge('xsmall','work'));}else if(i.is_trending_hashtag)n.push(c('BadgeHelper').renderBadge('xsmall','trending'));k.push(c('DOM').create('span',{className:'text'},n));}var o=i.subtext,p=i.category;if(o||p){var q=[];o&&q.push(o);o&&p&&q.push(" \u00b7 ");p&&q.push(p);k.push(c('DOM').create('span',{className:'subtext'},q));}var r=c('DOM').create('li',{className:i.type||''},k);if(i.text){r.setAttribute('title',i.text);r.setAttribute('aria-label',i.text);}return r;}h.className='compact';f.exports=h;},null);